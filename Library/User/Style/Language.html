<HTML>
<HEAD>
  <!-- Changed by: Henrik Frystyk Nielsen, 27-May-1996 -->
  <TITLE>Special Language Features</TITLE>
</HEAD>
<BODY>
<P>
<A HREF="../../../"><IMG ALT="W3C" SRC="../../../Icons/WWW/w3c_48x48"></A>
<A HREF="../../"><IMG SRC="../../../Icons/WWW/Lib48x" ALT="libwww"></A>
<A HREF="./"><IMG ALT="C-Style" SRC="../../../Icons/WWW/progstyle48x"></A>
<H1>
  Special Language Features
</H1>
<P>
Let us first start with some general language rules for how to provide
maintainable and portable C code. One of the main objectives is to use the
ANSI C and the POSIX.1 standard <EM>wherever possible</EM> in order to maximum
portability. This means that we can not use (unfortunately!) neither objective
C nor C++. However, we also want to support original Kernighan Ritchie C
compilers and C++ compilers which brings in two important aspects in the
coding style:
<H2>
  Reserved words
</H2>
<P>
It is important that there are no reserved words used as variable names,
function calls etc in our code. Some of the more common problem makes are
listed below but see also <A HREF="Identifiers.html">Identifiers</A>
<P>
<UL>
  <LI>
    <CODE>new</CODE>
  <LI>
    <CODE>this</CODE>
  <LI>
    <CODE>class</CODE>
  <LI>
    <CODE>template</CODE>
  <LI>
    <CODE>operator</CODE>
  <LI>
    <CODE>friend</CODE>
  <LI>
    <CODE>catch</CODE>
</UL>
<H2>
  Specific Problems
</H2>
<P>
As the world is not ideal, there are some traps that often show up when coding
after these standards. This sections gives an overview of the more serious
ones:
<P>
<DL>
  <DT>
    <CODE>memmove()</CODE>
  <DD>
    Many platforms do not support this feature or dump core
  <DT>
    <CODE>malloc()</CODE>
  <DD>
    One some platforms <CODE>malloc()</CODE> returns <CODE>NULL</CODE> if size
    is 0.
  <DT>
    const and static
  <DD>
    some versions of gcc have problems with variables declared both
    <CODE>static</CODE> and <CODE>const</CODE>.
  <DT>
    Preprocessor statements
    <UL>
      <LI>
	DON'T indent any preprocessor statements. They must (for some compilers)
	begin in column 1.
      <LI>
	If you add comments after pre processor directives, for Do put the ending
	condition in a comment. Don't put it as code - it won't pass all compilers.
      <LI>
	Don't use <CODE>#elif</CODE>. Basic <B>cpp</B> doesn't know it.
    </UL>
  <DT>
    Comments
  <DD>
    Don't use <CODE>//</CODE> as a comment delimiter. This is not supported by
    ANSI C.
</DL>
<P>
Remember that your code should compile without warnings under an ANSI C compiler
such as gcc with all warnings enabled <B>BUT</B> this is not enough. The
more native compilers you can use the better - gcc is <EM>not</EM> the only
answer of an ANSI compiler.
<P>
  <HR>
<ADDRESS>
  Tim BL, and <A HREF="../../../People.html#Frystyk">Henrik Frystyk</A>
</ADDRESS>
<ADDRESS>
  @(#) $Id$
</ADDRESS>
</BODY></HTML>
