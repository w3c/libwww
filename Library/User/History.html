<html>
<head>
  <title>Change History for W3C Sample Code Library</title>
  <meta http-equiv="Content-Type" content="text/html">
</head>

<body bgcolor="#ffffff">
<p><a href="../../"><img alt="W3C" src="../../Icons/WWW/w3c_home" width="72"
height="48" border="0"></a> <a href="../"><img alt="libwww"
src="../../Icons/WWW/Lib48x" width="48" height="48" border="0"></a></p>

<h1>Change History of libwww</h1>

<p>This is a list of changes to <a href="../">libwww</a> in reverse
chronological order. See also the <a href="ReleaseNotes.html">release
notes</a> for the <a href="../cvs.html#Releases">latest release</a>.</p>

<h2><a name="5.3.11">Release 5.3.2, Dec 20, 2000</a></h2>

<p>This is a minor release that mainly provides bug fixes and small
enhancements that have been commited to CVS since the last release.  Vladimir
Koslov provided indispensable help for testing and preparing the Win32
release. Special thanks to Wayne Davison, Art Barstow,  Peter Stamfest, Zhu
Qun-Ying, Jens Meggers,  Ken Olum for their contributions.</p>
<ul>
  <li>Summary of principal changes (the <a
    href="http://dev.w3.org/cvsweb/~checkout~libwww/ChangeLog?content-type=text/plain&amp;only_with_tag=HEAD">ChangeLog</a>
    provides a detailed account)
    <ul>
      <li>The following sample applications could core dump under Windows:
        <code>head.c, getheaders.c, chunk.c, chunkbody.c,
      multichunk.c</code></li>
      <li>When retrieving an object from the cache, the HTTP headers
        associated with the object weren't stored in the HTResponse
      object.</li>
      <li>The cache garbage collector could go into an endless loop.</li>
      <li>The HTResponse object now returns the HTTP reason.</li>
      <li>Update of expat to version 19990728.</li>
      <li>Optimization, enhancements, and bugs fixes to the  HTRDF module</li>
      <li>Some memory leaks and compiler warning  fixes.</li>
      <li>The robot could hang when accessing local files.</li>
      <li>Optimization of the HTChunk and HTHash modules.</li>
    </ul>
  </li>
  <li>Outstanding bugs
    <ul>
      <li>The <code>webbot</code> crashes from time to time under Windows. It
        seems to be a problem while reading the <code>robots.txt</code> file,
        where the application frees a request that's still registred in the
        Windows async. loop.,</li>
      <li>The <code>tiny.c</code> sample application doesn't prompt the user
        with a text input.</li>
      <li>Interpretation of <a
        href="http://lists.w3.org/Archives/Public/www-lib/2000JulSep/0050.html">FD_CLOSE</a>
        under Windows.</li>
      <li>The FTP implementation has memory leaks and doesn't remember the
        path or authentication information correctly.</li>
      <li>Compiling with -O2 and -Wall reveals some unitialized variables in
        HTDIR and HTFTP.</li>
    </ul>
  </li>
  <li>To do
    <ul>
      <li>Compile the answers to the libwww survey (volunteers are
      welcome).</li>
    </ul>
  </li>
</ul>

<h2><a name="5.3.1">Release 5.3.1, Aug 4, 2000</a></h2>

<p>This is the proper first 5.3 release. We changed the minor release number
as many people had started to refer to the previous release as 5.3.0.</p>
<ul>
  <li>What's new
    <ul>
      <li>Art Barstow (barstow@w3.org): fixed a bug with the handling of
        parseType="Literal" by the RDF parser.  None of the elements [and
        attributes if there were any] were added to the literal. The only
        string that was added to the literal was the elements' content (aka
        CDATA).</li>
      <li>Changed the Makefile so that .html-&gt;.h file conversion will only
        be done with Perl. This is faster than using the www tool.</li>
      <li>Updated the latest autoconf, automake, and libtools scripts. Now
        using the separate <a
        href="http://subversions.gnu.org/cgi-bin/cvsweb/config/">config.guess
        and config.sub</a> scripts.</li>
      <li>Extended the libwww/SSL API with HTSSL_setProtocol () and
        HTSSL_verifyDepth () functions to allow to change the TSL/SSL default
        protocol and the certificate verification depth. The wwwssl
        application was updated accordingly.</li>
      <li>Diverse documentation updates provided by Fox One.</li>
    </ul>
  </li>
  <li>Fixed bugs
    <ul>
      <li>The www wasn't able to convert .html files into .h ones
      anymore.</li>
      <li>the <a href="Extrnals.html">Extrnals.html</a> file wasn't being
        generated on all platforms.</li>
      <li>Applied diverse patches for libwww/SSL which should correct the
        multiple request and Post problems that people had signaled. Many
        thanks to Heiner Kallweit and Gertjan van Winger for their
        contributions.</li>
      <li>Other patches I (unfortunately) forgot to note down and am too lazy
        to get them out from CVS... (sorry, will keep better notes next
      time!)</li>
    </ul>
  </li>
  <li>Outstanding bugs
    <ul>
      <li>Interpretation of <a
        href="http://lists.w3.org/Archives/Public/www-lib/2000JulSep/0050.html">FD_CLOSE</a>
        under Windows.</li>
      <li>The FTP implementation has memory leaks and doesn't remember the
        path or authentication information correctly.</li>
    </ul>
  </li>
</ul>

<h2><a name="5.3.0pre">Release 5.3.0pre, Jun 9, 2000</a></h2>

<p>This is the first release done after Henrik's depart from W3C. We're
calling it a pre-release, as we're not sure if we prepared it correctly.
Special thanks to Henrik Frystik, Fox One, Vladimir Koslov, Rafaelle Sena,
and all the other libwww User's Community for their patches and continuous
support.</p>
<ul>
  <li>What's new
    <ul>
      <li>Included all the patches commited to CVS since the last release.
        It's been over a year since the last release and we don't have an
        exact count of what was commited. Many of them consisted of memory
        leak fixes and fixup with the asynchronous event handlers and timers
        under Win32.</li>
      <li>Integrated the libwww-SSL code back into libwww (the US export
        restriction doesn't apply anymore to source code).</li>
      <li>Upgraded expat to v1.1.</li>
      <li>Merged the outstanding Amaya libwww changes into the main tree.</li>
    </ul>
  </li>
</ul>

<h2><a name="5.2.8">Release 5.2.8, Apr 14, 1999</a></h2>

<p>For this release, special thanks go to the <a
href="Collaborators.html#Collaborators">libwww hackers</a> Olga Antropova,
Vladimir Kozlov, John Punin Olga Antropova, Jose Kahan, Vladimir Kozlov, John
Punin, Bob Racko, and Raffaele Sena for all their hard work and cool new
features including:</p>
<ul>
  <li><a href="../Distribution.html#Source">RPMs are now available for
    libwww</a></li>
  <li><a
    href="http://lists.w3.org/Archives/Public/www-lib/1999AprJun/0046.html">Split
    up the Unix library into many small libraries</a> as is the case for
    wintel DLLs. This allows for more modular use of libwww on Unix.</li>
  <li><a
    href="http://lists.w3.org/Archives/Public/www-lib/1999AprJun/0015.html">HTML/4
    support</a> in the <a href="../src/WWWHTML.html">libwww HTML
  parser</a></li>
  <li><a
    href="http://lists.w3.org/Archives/Public/www-lib/1999JanMar/0352.html">Support
    for HTTP redirections</a> in the robot</li>
  <li><a
    href="http://lists.w3.org/Archives/Public/www-lib/1999JanMar/0410.html">Updated
    documentation on the various libwww modules</a></li>
  <li><a
    href="http://lists.w3.org/Archives/Public/www-lib/1999JanMar/0400.html">HTTP
    cookies</a> and small <a
    href="http://lists.w3.org/Archives/Public/www-lib/1999AprJun/0003.html">cookie
    sample app</a></li>
  <li><a
    href="http://lists.w3.org/Archives/Public/www-lib/1999JanMar/0388.html">Easier
    handling of adding new header fields</a> to HTTP requests</li>
  <li><a
    href="http://lists.w3.org/Archives/Public/www-lib/1999AprJun/0000.html">SSL
    transport</a> - this code is not part of the libwww distribution because
    of US export restrictions on glue code for cryptographic code. We hope to
    make them available shortly</li>
  <li><a
    href="http://lists.w3.org/Archives/Public/www-lib/1999JanMar/0310.html">Support
    for HTTP/1.1 Upgrade header</a> which allows for "hot-swapping" changing
    protocols</li>
  <li><a
    href="http://lists.w3.org/Archives/Public/www-lib/1999JanMar/0423.html">Support
    for writing multiple times</a> when doing PUT/POST type operations</li>
</ul>
Also <a href="ToDo.html">in progress</a> is work on
<ul>
  <li><a
    href="http://lists.w3.org/Archives/Public/www-lib/1999AprJun/0040.html">Proposal
    for moving slowly to C++</a></li>
  <li>RDF parser</li>
</ul>

<h2>Release 5.2.6, Feb 24, 1999</h2>

<p>This release is the has a lot of bug fixes and new features - primarily as
a result of lots of really cool work done by people hacking away on libwww
including:</p>
<ul>
  <li>John Punin's integration with <a
    href="http://www.w3.org/Library/src/HTXML.html">Integration</a> James
    Clark's <a href="http://www.jclark.com/xml/expat.html">Expat XML
    parser</a>,</li>
  <li>Jose Kahan's <a
    href="http://www.egroups.com/list/www-lib/703.html">client-side Digest
    Authentication implementation</a>,</li>
  <li><p><a>A tiny new Web browser based with only a strict minimum of HTTP
    and HTML in only 170K on linux (stripped) into libwww.</a></p>
  </li>
</ul>

<h2>Release 5.2, Nov 1, 1998</h2>

<p>This release is the first release after the <a href="../cvs.html">libwww
CVS Repository</a> was made public in May 1998. At the time of the release
there were more than 500 checked out versions of the libwww code base and
numerous people have contributed to this release in form of <a
href="../Collaborators.html">bug fixes, extensions, and new features</a>.</p>

<h3>New Features</h3>
<ul>
  <li><a
    href="http://dev.w3.org/cgi-bin/cvsweb/libwww/Library/src/HTAccess.c?r1=1.145&amp;r2=1.146">Added
    a method</a> in the <a href="../src/HTAccess.html">HTAccess API</a> for
    posting forms and returning the response as a <a
    href="../src/HTChunk.html">HTChunk object</a></li>
  <li>Added handler for unknown content encodings in the <a
    href="../../ComLine/">Command Line tool</a> to be a through line
    (identity decoding) using the <a href="#bestmatch">best matching
    mechanism</a></li>
  <li>Added support for <a href="../src/HTProxy.html">regex handling of
    proxies</a> so that you can now say something like this: all URIs
    matching this regex goes to this proxy, all others go to this, etc.</li>
  <li>Better control of how much data is being sent in the <a
    href="../src/HTReq.html"> REQUEST OBJECT</a>. Now you can both get the
    total number of bytes read and written as well as the number of entity
    (body) bytes read and written. This uses features provided by the HTNet
    object</li>
  <li>The default implementation of <a href="../src/HTDialog.c">progress
    notifications</a> now uses the new HTRequest bytes read/written
  methods.</li>
  <li>The mime parser in <a href="../src/HTMIME.c">HTMIME.c</a> and <a
    href="../src/HTMIMERq.c">HTMIMERq.c</a> now uses the updated control of
    bytes read/written.</li>
  <li>Added support for version conflict detection in <a
    href="../../WinCom/">Web Commander</a> (update all of WinCom area)</li>
  <li>The <a href="../../WinCom/">Web Commander</a> - the Win32 GUI PUT
    sample application has been updated from the ground up - try it out!</li>
</ul>

<h3>Bug Fixes</h3>
<ul>
  <li><a
    href="http://dev.w3.org/cgi-bin/cvsweb/libwww/Library/src/HTAccess.c?r1=1.144&amp;r2=1.145">Remove
    access authentication credentials</a> duplicates when doing the
    HTSaveFilter on the same resource</li>
  <li><a
    href="http://dev.w3.org/cgi-bin/cvsweb/libwww/Library/src/HTAnchor.c?r1=1.77&amp;r2=1.78">Checks
    that etags are not the same when setting a new one</a>. This caused first
    the old (which was also the new) to be deleted and then created
  again.</li>
  <li>Fixed HTTP POST problem where small post data didn't always get posted.
    This affects several files including <a
    href="http://dev.w3.org/cgi-bin/cvsweb/libwww/Library/src/HTMIME.c?r1=2.88&amp;r2=2.89">HTMIME.c</a>
    and <a
    href="http://dev.w3.org/cgi-bin/cvsweb/libwww/Library/src/HTMIMERq.c?r1=2.38&amp;r2=2.39">HTMIMERq.c</a></li>
  <li><a
    href="http://dev.w3.org/cgi-bin/cvsweb/libwww/Library/src/HTTP.c?r1=1.164&amp;r2=1.165">Fixed
    HTTP PUT problem</a> when a 100 Continue code came more than 2 secs after
    the request.</li>
  <li><a
    href="http://dev.w3.org/cgi-bin/cvsweb/libwww/Library/src/HTTP.c?r1=1.163&amp;r2=1.164">Added
    interrupt alert message</a> to <a href="../../src/HTTP.c">HTTP.c</a></li>
  <li><a
    href="http://dev.w3.org/cgi-bin/cvsweb/libwww/Library/src/HTFilter.c?r1=2.27&amp;r2=2.28">Added
    alert message when status is 503 Retry</a> to the information filter in
    <a href="../../src/HTFilter.c">HTFilter.c</a></li>
  <li><a
    href="http://dev.w3.org/cgi-bin/cvsweb/libwww/Library/src/HTFile.c?r1=1.146&amp;r2=1.147">The
    last modified time is now stored in the anchor object when opening a
    local file</a></li>
  <li><a
    href="http://dev.w3.org/cgi-bin/cvsweb/libwww/Library/src/HTAccess.c?r1=1.143&amp;r2=1.144">Added
    support for preconditions in the save document calls in HTAccess</a></li>
  <li><a
    href="http://dev.w3.org/cgi-bin/cvsweb/libwww/Library/src/HTBufWrt.c?r1=2.22&amp;r2=2.23">Deleted
    unused variable in HTBufWrt.c</a></li>
  <li><a
    href="http://dev.w3.org/cgi-bin/cvsweb/libwww/Library/src/HTResponse.html?r1=2.8&amp;r2=2.9">Fixed
    typo in function prototype in HTResponse.html</a></li>
  <li>Made <tt>WWW_TraceFlag</tt> unsigned integer in <a
    href="../src/HTUtils.html">HTUtils.html</a> (was signed) and changed
    order in wwwsys.html so that netinet/in.h now is included before
    netinet/tcp.h in wwwsys.html. This was a problem on RC6000.</li>
  <li>Put in a few checks for invalid function arguments (NULL etc.) in <a
    href="../src/HTEscape.c">HTEscape.c</a> and <a
    href="../src/HTParse.c">HTParse.c</a></li>
  <li>Added explicit support for HTTP preconditions (the if-* headers) so
    that they can now be turned on and off on a pr request basis. This
    affects <a href="../src/HTReqMan.c">HTReqMan.c</a> <a
    href="../src/HTReq.html">HTReq.html</a> and <a
    href="../src/HTReqMan.html">HTReqMan.html</a></li>
  <li>Changed the <a name="bestmatch"
    href="../src/HTFormat.html#encoding">encoding streamstack builder</a> to
    support <em>best matching</em> (wildcard matching) capabilities. This
    means that you now can register a default decoder like this:
    <code>HTFormat_addCoding("*", HTIdentityCoding, HTIdentityCoding,
    0.3)</code>, for example where <code>HTIdentityCoding</code> is a coder
    provided by libwww. The quality indicates how much you like it (between
    0.0 and 1.0)</li>
  <li><a
    href="http://dev.w3.org/cgi-bin/cvsweb/libwww/Library/src/HTProxy.c?r1=2.15&amp;r2=2.16">Now
    also removes the after authentication filter is all proxies are
    unregistered</a></li>
  <li>Changed the progress notifications in HTAlert to also include
    <b>Interrupted!</b> This affects <a
    href="http://dev.w3.org/cgi-bin/cvsweb/libwww/Library/src/HTCache.c?r1=2.50&amp;r2=2.51">HTCache.c</a>
    (a little), <a
    href="http://dev.w3.org/cgi-bin/cvsweb/libwww/Library/src/HTAlert.html?r1=2.51&amp;r2=2.52">HTAlert.html</a>
    (and .h), and <a
    href="http://dev.w3.org/cgi-bin/cvsweb/libwww/Library/src/HTDialog.c?r1=2.27&amp;r2=2.28">HTDialog.c</a></li>
  <li>Moved the increment of bytes written (used in PUT) from the <a
    href="http://dev.w3.org/cgi-bin/cvsweb/libwww/Library/src/HTBufWrt.c?r1=2.21&amp;r2=2.22">buffered
    output steam </a>to the <a
    href="http://dev.w3.org/cgi-bin/cvsweb/libwww/Library/src/HTWriter.c?r1=2.50&amp;r2=2.51">unbuffered
    output stream</a> which gives a more accurate reading.</li>
  <li>Bad typo bug when deleting before filters in <a
    href="http://dev.w3.org/cgi-bin/cvsweb/libwww/Library/src/HTNet.c?r1=2.93&amp;r2=2.94">HTNetCall_addBefore</a>
    which caused deletion problems in the Filter list</li>
  <li>Fixed a problem when PUT'ing to a non-existent host (or invalid
    portnumber) in the <a
    href="http://dev.w3.org/cgi-bin/cvsweb/libwww/Library/src/HTAccess.c?r1=1.142&amp;r2=1.143">Save
    Filter</a>. The cleanup is now made more cleanly.</li>
  <li>Moved the <b>Done!</b> progress notification into <a
    href="http://dev.w3.org/cgi-bin/cvsweb/libwww/Library/src/HTMIME.c?r1=2.87&amp;r2=2.88">HTMIME.c</a>
    instead of in <a
    href="http://dev.w3.org/cgi-bin/cvsweb/libwww/Library/src/HTReader.c?r1=2.24&amp;r2=2.25">HTReader.c</a>
    as it no longer has much to do with closing the TCP connection.</li>
  <li><a
    href="http://dev.w3.org/cgi-bin/cvsweb/libwww/Library/src/HTChannl.c?r1=2.17&amp;r2=2.18">Made
    sure that local files are closed when using ANSI C file
  descriptors</a></li>
  <li><a
    href="http://dev.w3.org/cgi-bin/cvsweb/libwww/Library/src/HTWWWStr.c?r1=2.26&amp;r2=2.27">Fixed
    bug in the conversion from URI to local Windows file in
  HTWWWToLocal()</a></li>
  <li><a
    href="http://dev.w3.org/cgi-bin/cvsweb/libwww/Library/src/HTAABrow.c?r1=2.46&amp;r2=2.47"
    name="Auth1">Fixed problem in the template generation in the access
    authentication module</a>. This can cause the authentication module to
    not find the credentials already given.</li>
  <li><a
    href="http://dev.w3.org/cgi-bin/cvsweb/libwww/Library/src/HTHost.c?r1=2.46&amp;r2=2.47">Fixed
    strange deletion of semaphore control for non-persistent
  connections</a></li>
  <li>A close socket event wasn't registered on Windows. This is now done in
    <a href="../src/HTHost.c">HTHost.c</a>.</li>
  <li>On some platforms, it is not possible to refer to function addresses
    across shared libraries. The result is that the libwww API that uses
    function addresses don't always work. I have added an opcode version of
    the <a href="../src/HTAlert.html">HTAlert API</a> to handle this for user
    messages and progress notifications.</li>
</ul>

<h2>Release 5.1m May 21, 1998</h2>

<h3>New Features</h3>
<ul>
  <li>Changed the <a href="../src/HTFormat.html#encoding">encoding
    streamstack builder</a> to support <em>best matching</em> capabilities.
    This means that you now can register a default decoder like this:
    <code>HTFormat_addCoding("*", HTIdentityCoding, HTIdentityCoding,
    0.3)</code>, for example where <code>HTIdentityCoding</code> is a coder
    provided by libwww.</li>
  <li>Added support for <a href="../src/HTMIMERq.html">writing out
    <tt>Link:</tt> header fields</a> when <a
    href="../src/HTAccess.html">uploading a document</a>. The <tt>Link:</tt>
    header field is use to represent link relationship between documents</li>
  <li>Changed <a href="../src/HTEscape.html">HTEscape</a> to deal with silly
    MSDos file type escaping of &nbsp;the drive name (using ":").</li>
  <li>Added support for <a
    href="../../ComLine/User/CommandLine.html#auth">automatic authentication
    (!)</a> in the <a href="../../ComLine/">Command Line</a> Tool so that it
    is now possible to authenticate from scripts etc.</li>
  <li><a href="../cvs.html">Direct access to the CVS repository</a> -
    checkout libwww and work with the latest version!</li>
  <li>Made sure that we write more often as we check for expired timers in
    HTWriter.c</li>
  <li>Added a "repetitive" flag to timers so that they can be created to say
    call me every 30ms over and over again</li>
  <li>Added support for building libwww as a shared library on Unix (it is
    already using DLLs on Windows). If you have any problems with shared
    libraries on your platform then <a href="../../INSTALL.html">run
    configure</a> with the <code>--disable-shared</code> flag and you will
    only get the static version. If you are using libwww as a shared library
    but do <em>not</em> use the <a href="../src/WWWHTML.html">libwww HTML
    parser</a> then you MUST include this <a
    href="../src/HTextImp.html">dummy implementation</a> of the <a
    href="../src/HText.html">HText interface</a> somewhere in your code. The
    reason for this is that the HText interface may be called (it depends a
    bit on how your platform supports shared libraries) but an implementation
    isn't provided.</li>
  <li>Added support for <a href="http://www.tcx.se/">MySQL</a> access in <a
    href="../src/HTSQL.html">this simple SQL interface</a> which takes care
    of most os the common problems encountered when talking to an SQL server.
    Currently I use this for <a href="../src/HTSQLLog.html">handling
    logging</a> in <a href="../../Robot/User/CommandLine.html#Logging">the
    webbot </a>but many other features like persistent caching, preferences,
    etc. can use the <a href="../src/HTSQL.html">SQL module</a> as well. You
    can also see some <a href="../../Robot/www-sql/">cool examples</a> of how
    to use the robot's logs when querying <a
    href="http://www.tcx.se/">MySQL</a> through <a
    href="http://www.daa.com.au/~james/www-sql/">www-sql</a>.</li>
  <li>Changed the name of "<tt>config.h</tt>" to "<tt>wwwconf.h</tt>" as the
    <a
    href="http://lists.w3.org/Archives/Public/www-lib/1998JanMar/0039.html">first
    name caused conflicts with other packages</a></li>
  <li>Changed the name of "<tt>sysdep.h</tt>" to "<tt>wwwsys.h</tt>" for the
    same reason</li>
</ul>

<h3>Bug Fixes</h3>
<ul>
  <li>Fixed a bug in the <a href="../src/HTParse.html">generation of relative
    URIs</a> which caused the creation of incorrect relative URIs. Libwww
    uses relative URIs in the HTTP referer field and other places to save
    (often significant) amount of bandwidth.</li>
  <li>Decreased default max number of outstanding (pipelined) requests from
    100 to 50</li>
  <li>Does now check whether we get a broken pipe when writing to the network
    from expired timers. This was a bug that it didn't.</li>
  <li>Applied the <a href="Patch/5.1l/">following patches</a></li>
  <li>Fixed a problem in the HTWWWStr.c that caused a <a
    href="http://lists.w3.org/Archives/Public/www-lib/1998AprJun/0000.html">Y2K
    bug if strftime isn't available</a> on the system on where libwww is
    running</li>
</ul>

<h2>Release 5.1l March 25, 1998</h2>

<p>This is a small add-on to 5.1k that was released two days ago. It has a
few fixes that was discovered while working with the latest <a
href="http://www.yggdrasil.com/Products/Arena/">Arena browser</a>.</p>

<h3>Bug Fixes</h3>
<ul>
  <li>Minor stuff that made PUT work nicer from a user perspective (when to
    ask what questions, etc)</li>
  <li>Fixed a few things in the direct WAIS access module</li>
</ul>

<h2>Release 5.1k March 23, 1998</h2>

<h3>New Features</h3>
<ul>
  <li>Added a simple "single user lock" on the persistent cache as it gets
    confused if multiple users are using it.</li>
  <li>On Unic, the header files are now installed when running "<tt>make
    install</tt>". The default location is
    <tt>"/usr/local/include/w3c-libwww</tt>".</li>
  <li>On Unix, aset of icons that can be used when browsing local file
    directories are also installed - the default location is
    "<tt>/usr/local/share/w3c-libwww</tt>"</li>
</ul>

<h3>Bug Fixes</h3>
<ul>
  <li><a href="Patch/5.1j/">These are the patches</a> that I have received
    for the current release. They will be applied to this upcoming
  release.</li>
  <li>Fixed a few bugs that make <a
    href="http://www.yggdrasil.com/Products/Arena/">Arena</a> run on top of
    the latest version</li>
</ul>

<h2>Release 5.1j March 9, 1998</h2>

<h3>New Features</h3>
<ul>
  <li>Made the distinction between Transfer-Encoding and
    Content-Transfer-Encoding clear - they were somewhat mixed up before.
    Libwww also now supports multiple transfer-codings as well as multiple
    content-codings as required by <a
    href="../../Protocols/History/#latest">HTTP/1.1</a>.</li>
  <li>Changed the <a href="../src/HTFormat.html">Stream Stack</a> to not call
    the <code>SaveLocally</code> stream any more but instead return an
    ErrorStream. The reason for this is that there are several places in the
    stram stack building algorithm where we might want to save the file to
    local file: when there is a content type that we don't understand, a
    content-encoding, or a transfer-encoding (or a combination of these) that
    we don't understand. Now we can make sure that the
    <code>SaveLocally</code> stream is only called once</li>
  <li>Added support for "<b>identity</b>" transfer-coding and
  content-coding</li>
  <li>Added support for Allow header when doing PUT and POST</li>
</ul>

<h3>Bug Fixes</h3>
<ul>
  <li>Fixed a problem handling wrong HTTP responses from NCSA HTTPD derived
    servers (they don't include a version number when responding to an
    HTTP/1.1 request)</li>
  <li>PUT now works much more reliable, and it also works on Windows (at
    least &nbsp;NT, I haven't tested it on 95).</li>
  <li>Fixed a refresh problem in the <a href="../../LineMode/">Line Mode
    Browser</a> which caused it to sometimes render the screen twice.</li>
</ul>

<h2>Release 5.1f January 1998</h2>

<h3>New Features</h3>
<ul>
  <li>Changed the referer HTTP header field to use relative URIs instead of
    absolute. This saves a lot of bytes on the wire</li>
  <li>Added support for <a
    href="../../Robot/User/CommandLine.html#Logging">logging the charset
    media type parameter</a></li>
  <li>Added support for <a
    href="../../Robot/User/CommandLine.html#Inlined">logging when the ALT tag
    is missing</a> from inlined images</li>
  <li>Extended the <a href="../src/HTLog.html">log class</a> to support
    arbitrary log files</li>
</ul>

<h3>Bug Fixes</h3>
<ul>
  <li>Fixed some problems in the HTRelative function in <a
    href="../src/HTParse.html">HTParse</a>.</li>
</ul>

<h2>Release 5.1e January 1998</h2>

<h3>New Features</h3>
<ul>
  <li>Added support for linking against a <a
    href="http://www.delorie.com/gnu/docs/rx/rx_3.html">POSIX Regular
    Expression</a> (regex) library. This is used in the <a
    href="../../Robot/">Robot</a>, for example, to support <a
    href="../../Robot/User/CommandLine.html#Constraints">regular expressions
    on URIs</a> to include and exclude from a traversal. The code has been
    tested with the <a href="http://ftp.digital.com/pub/GNU/">GNU regex
    library</a>.</li>
  <li>Added more <a href="../../Robot/User/CommandLine.html#Logging">logging
    features to the webbot</a></li>
</ul>

<h3>Bug Fixes</h3>
<ul>
  <li>Fixed bug in <a href="../src/HTWriter.html">ouputstream</a> that caused
    buffer to be overwritten in some cases when blocked on write</li>
</ul>

<h2>Release 5.1d December 1997</h2>

<h3>Bug Fixes</h3>
<ul>
  <li>Lots of bug fixes in the <a
    href="../../Protocols/HTTP/Forum/PipeliningNotes.html">pipelining
    code</a> and increased performance</li>
</ul>

<h3>New Features</h3>
<ul>
  <li>Better logging facilities with support for <a
    href="../src/HTLog.html">multiple log objects</a> including referer
    logging, Common Log File format logging and general logging filters.</li>
</ul>

<h2>Release 5.1c September 1997</h2>
<ul>
  <li>Lots of bug fixes</li>
</ul>

<h2>Release 5.1b April 1997</h2>

<h3>Bug Fixes</h3>
<ul>
  <li>Fixed a problem in <a href="../src/HTRules.html">HTRules.c</a> as
    described in <a
    href="http://lists.w3.org/Archives/Public/www-lib-bugs/msg00248.html">this
    bug report</a></li>
  <li>Fixed coredump problem in <a
    href="../src/HTInet.html">HTGetTmpFileName()</a> as described in <a
    href="http://lists.w3.org/Archives/Public/www-lib-bugs/msg00247.html">this
    bug report</a>. This affects also the <a
    href="../src/HTCache.html">HTCache</a> module which relies on temporary
    file names</li>
  <li>Made the <a href="../src/HTCache.html">persistent cache</a> more robust
    which in some cases will save a segmentation fault</li>
  <li>Fixed problem in <a href="../src/wwwsys.html">wwwsys.h</a> as reported
    in <a
    href="http://lists.w3.org/Archives/Public/www-lib-bugs/msg00249.html">this
    bug report</a></li>
  <li>Fixed problem where a request was not flushed if using blocking sockets
    as reported by <a
    href="http://lists.w3.org/Archives/Public/www-lib-bugs/msg00250.html">this
    bug report</a>.</li>
  <li>A limitation in the current persistent cache is that it only works in
    non-preemptive mode. Hence if using blocking sockets then the cache
    should be disabled. This is now the default behavior in the <a
    href="../src/HTProfil.html">libwww profiles</a>.</li>
  <li>Bug fixed that caused the <code>maxsock</code> variable used in
    <code>select()</code> not to be decreased when deleting a socket in the
    default <a href="../src/HTEvtLst.html">event manager</a></li>
  <li>Changed the connection management so that it complies with the <a
    href="http://www.ics.uci.edu/pub/ietf/http/draft-ietf-http-connection-00.txt">Connection
    Management</a> draft by Jim Gettys and Alan Freier. The HTTP client now
    closes idle connections after 60 seconds which is a heuristic period
    chosen by Jeff Mogul in the paper "<a
    href="http://www.research.digital.com/wrl/techreports/abstracts/95.4.html">The
    Case for Persistent-Connection HTTP</a>". The number can be dynamically
    changed using the <code>HTHost_setPersistTimeout() </code>and the
    <code>HTHost_persistTimeout() </code>methods. This could be made more
    advanced so that we take into account any information given in the
    "<tt>Keep-Alive</tt>" header but isn't for now.</li>
  <li>Fixed a problem when a HTTP/1.1 server sent a response including a
    <tt>Connection: close</tt> header using the close of the TCP connection
    as a delimiter. This problem was pointed out in <a
    href="http://lists.w3.org/Archives/Public/www-lib-bugs/msg00254.html">this
    bug report</a></li>
  <li>Fixed security hole handling <a href="../src/HTTP.c">HTTP 305 proxy
    redirection codes</a>. The proxy location returned in the responses was
    enabled as a permanent proxy without any notification. The operation now
    requires explicit acknowledgement from the user</li>
  <li>Fixed potential (but small) security whole handling <a
    href="../src/HTRules.html">parsing a new rules file</a>. This operation
    now requires explicit acknowledgement from the user.</li>
</ul>

<h2>Release 5.1 February 18 1997</h2>

<h3>New Features and APIs</h3>
<ul>
  <li>Added support &nbsp;pipelining</li>
  <li>Support for zlib based decompression in content encoding</li>
</ul>

<h3>Bug Fixes</h3>
<ul>
  <li>A whole bunch of them...</li>
</ul>

<h2><a name="Release50">Release 5.0 September 10 1996</a></h2>

<p>This release was originally called 4.1 but because we now have a complete
<a href="../../Protocols/">HTTP/1.1</a> client side implemenation including a
<a href="../src/WWWCache.html">persistent cache manager</a> and full support
for uploading documents, we decided to call it <b>version 5.0</b> instead.</p>

<p>The focus for version 5.0 of the <a href="../">W3C Sample Code Library</a>
is to provide a set of higher level, application specific APIs for accessing
the Web. These APIs - called <a href="../src/HTProfil.html">profiles</a> -
will help the application, a Web client for example, to more easily use the
full potential of the application independent <a
href="../src/WWWCore.html">Library core</a>. Also, the Library contains a
significantly better interface for easy access to the Web through a <a
href="../src/HTAccess.html">large set of functions</a> specialized to perform
certain Web operations like <code>PUT</code>, <code>POST</code>,
<code>DELETE</code>, <code>GET</code> and <code>HEAD</code>.</p>

<p>This release contains a <a href="../../Robot/">TCL add-on to the Robot
</a>example application and a <a href="../Test/User/">Deja GNU Test suite</a>
for the Library. Also, it support <a href="../../Protocols/">HTTP/1.1</a>
including persistent connections, two-way <code>PUT</code>, and the
<code>host</code> header. There is also a sample <a href="../src/HTPEP.c">PEP
implementation</a>, that although incomplete can give an idea of where we're
headed using PEP.</p>

<h3>Bug Fixes</h3>
<ul>
  <li>Changed <code><a href="../src/HTInet.html">HTGetTmpName</a></code> not
    to use tempnam() anymore as it caused problems.</li>
  <li>Added argument to <code><a
    href="../src/HTWWWStr.html">HTParseTime</a></code> so that we can decide
    whether we want to expand relative times or not.</li>
  <li>The request pointer passed to a <a href="../src/HTAlert.html">progress
    notification</a> may be <code>NULL</code> -be aware!</li>
</ul>

<h2>Release 4.1b5 August 24 1996</h2>

<p>Release 4.1b5 is mainly a bug fix release after intensive testing against
the <a href="http://wilson.ai.mit.edu">Common Lisp Server </a>which also is a
HTTP/1.1 application. However, it also has a few new features worth
noting.</p>

<h3>New Features</h3>
<ul>
  <li>Added support for the <i>entity-tag </i>validator headers:
    <code>If-Match</code> and <code>If-None-Match</code> and also for the
    <i>date</i> validators <code>If-Modified-Since</code> and
    <code>If-Unmodified-Since</code>. We only use either etags or date stamps
    and the <i>entity-tag</i> validators have precedence over the <i>date</i>
    validators.</li>
  <li>Added acinclude.m4 in the WWW directory. The file is used by
  automake</li>
  <li>Changed the <a href="../../INSTALL.html">configure script</a> to handle
    the location of the icons distributed as part of the libwww distribution
    package.</li>
  <li>Added full support for <code>Cache-Control</code> header and
    <code>Connection</code> header. Both headers can have an association list
    of name value pairs as directives.</li>
  <li>Moved the memory cache handler (history handler) from the <a
    href="../../LineMode/">line mode browser</a> to be a <i>BEFORE</i> <a
    href="../src/HTFilter.html">filter</a> which can be used by other
    applications as well. It is now included as part of the <a
    href="../src/HTProfil.html">client profile</a>.</li>
  <li>Changed the <a href="../src/HTReq.html">expiration handling API</a> to
    not include any notification messages. Any messages to be transmitted to
    the user is now handled by the <a href="../src/HTAlert.html">Alert
    manager</a>.</li>
  <li>Added <a href="../src/WWWCache.html">persistent cache manager</a> to
    the <a href="../src/HTProfil.html">client profile</a>.</li>
  <li>Added <i>validation</i> command to the line mode browser</li>
  <li>Changed the cache validation management in the <a
    href="../src/HTReq.html">Request object</a>. The validation scheme is now
    compatible with HTTP/1.1 caching including handling of the history list.
    We have changed the validation enumerations from
    <ul>
      <li><code>HT_ANY_VERSION</code>, <code>HT_MEM_REFRESH</code>,
        <code>HT_CACHE_REFRESH</code>, <code>HT_FORCE_RELOAD</code></li>
      <li><code>HT_CACHE_OK</code>, <code>HT_CACHE_FLUSH_MEM</code>,
        <code>HT_CACHE_VALIDATE</code>, <code>HT_CACHE_FLUSH</code>.</li>
    </ul>
  </li>
</ul>

<h3>Bug Fixes</h3>
<ul>
  <li>Fixed problem when getting a <code>connection</code> header with the
    <code>close</code> directive. The problem caused libwww to loop as it
    recursively tried to free the input stream pipe</li>
  <li>Fixed bug in access authentication which could cause libwww to loop if
    the top level of the site was protected.</li>
  <li>Fixed bug that caused a core dump if receiving a message body without
    any <code>content-type</code>. Now the data is passed to the <a
    href="../src/HTGuess.html">guessing stream</a> which hopefully can handle
    it.</li>
</ul>

<h2>Release 4.1b4 August 20 1996</h2>

<p>HTTP version 1.1 allows for effective use of persistent connections.
However, in orderto make this work, a client application must be capable of
recovering from a closed connection between sent requests. The beta 4 version
of libwww supports automatic connection recovery and provides the
functionality for performing pipelining of requests. That is, there can be
multiple outstanding requests on the same connection In order to do this, the
release contains &nbsp;modifications to the <a
href="../src/HTChannl.html">Channel Object</a>, the <a
href="../src/HTHost.html">Host object</a> and the <a
href="../src/HTNet.html">Net object</a>.</p>

<h3>New Features</h3>
<ul>
  <li>Added support for case-insensitive searching for proxies via
    environment variables</li>
  <li>Added support for proxy authentication</li>
  <li>Changed handling of proxies so that they are not included in the URL
    but is now instead part of the request object. This allows for better
    handling of proxies and also for more freely use of the proxy filter as
    it doesn't affect the other filters anymore.</li>
  <li>Added support for TRACE HTTP method in the <a
    href="../src/HTAccess.html">HTAccess module</a>.</li>
  <li>Updated News DLL and incorporated News patches from <i>Maciej
  Puzio</i></li>
  <li><code>HT_PERSISTENT</code> is now obsolete and should be replaced by
    <code>HT_PENDING</code></li>
  <li>The <code>HTChannelMode</code> enumeration describing the flow of a
    channel has been replaced by <code>HTTransportMode</code> as it is now a
    part of the transport object and not the channel object</li>
  <li><code>HTNet_idle()</code> has been removed and replaced by
    <code>HTNet_isIdle()</code>. The function returns YES if there are no
    pending requests in libwww at all.</li>
  <li>Add support for checking public information about a host and use this
    information when issuing a PUT, for example. Also add check for host
    element in <a href="../src/HTAccess.html">HTAccess</a> when doing PUT. We
    may have public information available</li>
  <li>Changed the return codes defined in <a
    href="../src/HTUtils.html">HTUtils </a>to reflect the values of the HTTP
    spec.</li>
  <li>Added support for <code>305 Use Proxy</code> redirections</li>
  <li>Updated <a href="../src/HTDir.html">HTDir module</a> to better use the
    fact that we know that an entry is a directory or not. Now it appends a
    '/' to the URL if it is a directory. That way we often avoid a
    redirection.</li>
  <li>Removed WWWRules as interface and merged it with the <a
    href="../src/WWWApp.html">WWWApp interface</a>. The reason was that the
    two were highly alike and depended on each other</li>
</ul>

<h3>Bug Fixes</h3>
<ul>
  <li>Fixed problem with uploading directory listing using chunked
  encoding</li>
  <li>Fixed autoconf to handle WAIS and updated the HTWAIS.c module</li>
  <li>Fixed race problem in PUT on alphas</li>
  <li>Tested reentrant version of libwww (uses <code>_REENTRANT</code>
  define)</li>
  <li>Fixed problem in file name conversion from URL to local format on
    Windows</li>
</ul>

<h2>Release 4.1b3 July 20 1996</h2>

<p>The <a href="../src/HTFile.html">file access module</a> now does content
negotiation by default. This means that all local file access (including from
client applications) <b>do</b> content negotiation when accessing local
files. Content negotiation can be turned off by setting a flag in the <a
href="../src/HTReq.html">request object</a>.</p>

<p>A main difference in beta 3 is that we now have a set of "<a
href="../src/HTProfil.html">application profiles</a>" that helps the
application to initialize <a href="../src/WWWCore.html">libwww core</a> to
work as a typical client, robot or other type of application. This should
replace the huge initialization procedure seen in previous versions. This is
in fact a result of the core being so flexible - it is inly a framework for
accessing the Web. The application must initialize all the functionality at
run-time. You can see the various profile functions in the <a
href="../src/WWWInit.html">WWWInit interface</a>.</p>

<p>The second main difference is that the <i>BEFORE</i> and <i>AFTER</i>
filters have been more explicit than before. The <code>HTLoadStart</code> and
<code>HTLoadTerminate</code> functions actually covered many typical
<i>BEFORE</i> and <i>AFTER</i> filter functions like looking for proxies,
searching the cache, looking for rule file matching, and logging etc.</p>

<p>However, two functions were not covered by this: <i>redirection</i> and
<i>authentication</i>. That is why the application in previous version had to
supply this functionality. However, in beta 3 we have split up the
<code>HTLoadStart</code> and <code>HTLoadTerminte</code> functions into a <a
href="../src/HTFilter.html">set of filters</a> which each perform only a
single function, for example looking for proxies. The split has two
functions: first it shows how you can use filtes to add new functionality to
the Library and second it can be used by more types of applications. A result
of the new filters is that we also have default redirection and
authentication filters so you don't have to provide this anymore.</p>

<p>The <a href="../src/HTFilter.html">filters</a> are set up as part of the
<a href="../src/HTProfil.html">profiles</a> so you will normally not have to
register them individually.</p>

<h3>New features and Changes</h3>
<ul>
  <li>Introduced <a href="../src/HTUser.html">HTUserprofile</a> class to
    handle host and user specific information</li>
  <li>Added <a href="../src/HTTChunk.html">Chunked decoding and encoding
    module</a></li>
  <li>A host name is not expanded to a <b>fqdn</b> name as it is not reliable
    enough. Now we just keep it as is, that is we don't expand <i>www</i> to
    <i>www.w3.org</i>, for example.</li>
  <li>Updated <a href="../src/HTML.html">HTML parser</a> to support
    <code>BASE</code> tag and <code>LINK</code> tag</li>
  <li>Added new access methods to the <a href="../src/HTAccess.html">HTAccess
    module</a>. It is now part of the <a href="../src/WWWApp.html">WWWApp
    interface</a></li>
  <li>Updated the <a href="../src/HTIcons.html">Icon module</a> and added
    icons to the distribution file</li>
  <li>Added a <a href="../src/HTSChunk.html">Stream to Chunk converter
    </a>for easier conversion of streams into dynamic memory buffers</li>
  <li>Introduced <a href="../src/HTLib.html">HTLib</a> as a new core module.
    It contains generic information about the core which used to be in the
    HTAccess module.</li>
  <li>Added support for <a href="../../Protocols/">HTTP/1.1</a>. Most of the
    HTTP/1.1 specification is now in place, we still need some headers and
    some features but this version can be considered to be compliant.</li>
  <li>Added suport for proxy authentication as specified by HTTP/1.1</li>
  <li>Added support for case-insensitive searching for proxies via
    environment variables</li>
  <li>Changed handling of proxies so that they are not included in the URL
    but is now instead part of the request object. This allows for better
    handling of proxies and also for more freely use of the proxy filter as
    it doesn't affect the other filters anymore.</li>
</ul>

<h3>Bug Fixes</h3>
<ul>
  <li>Fixed problem with uploading directory listing using chunked
  encoding</li>
  <li>Fixed problem in the rule file parser. It didn't parse the last line of
    the config file</li>
  <li>Fixed autoconf to handle WAIS and updated the <a
    href="../src/HTWAIS.html">HTWAIS.c </a>module</li>
  <li>Fixed race problem in PUT on alphas which caused the PUT operation to
    hang under certain circumstances</li>
</ul>

<h2>Release 4.1b1 May 20 1996</h2>

<h3>New Features</h3>
<ul>
  <li>Introduced GNU autoconf configure script for compiling on Unix
    platforms instead of the old BUILD script. This should make it a lot
    easier to compile on Unix as we get all the advantages of GNU
  autoconf.</li>
  <li>Introduction of the <a href="../src/HTUser.html">HTUserprofile Class
    </a>which keeps track of a "user" known to the Library</li>
  <li>New access authentication interface allowing for dynamic registration
    of new access authentication mechanisms. It provides an easy API for
    hooking in new schemes.</li>
  <li>Improved handling of trace messages which allows for easy redirection
    of trace messages</li>
  <li>Support for registration of content coders/decoders and content
    transfer encoders/decoders. This is done the same way as for media types
    by registering a set of streams that can handle the various
  encodings.</li>
  <li>Support for <i>chunked</i> decoding</li>
  <li>Introduction of the <a href="../src/HTHost.html">HTHost Class</a> which
    keeps track of information about remote hosts</li>
  <li>The <a href="../src/HTDNS.html">DNS Class</a> has been simplified to
    handle DNS queries only. All additional information about the remote host
    is defined by the HThost Class.</li>
  <li>We have a new <a href="../src/HTEvent.html">HTEvent module</a> which
    allows for dynamic registration of an event manager. This will make it
    much easier to use external event managers together with libwww. If you
    wish to continue to use the event handlers from HTEvntLst, you must
    register them explicitly with <a
    href="../src/HTEvtLst.html">HTEvent_register</a>. This call is
    demonstrated in <a href="../../LineMode/src/HTBrowse.c">HTBrowse</a>.</li>
  <li>The <a href="../src/HTStream.html">HTStream module</a> has been created
    containing a set of basiv streams such as an error stream etc.</li>
  <li>Introduction of the <a href="../src/HTTrans.html">HTTransport
    Class</a>. This allows for dynamic registration of transport protocols
    such as for example the W3Mux protocol, TCP access, local file access
  etc.</li>
  <li>All MIME parsing is now done with registered parsers. The <a
    href="../src/HTMIME.html">HTMIME</a> module only unwraps the &nbsp;MIME
    header fields and calls the best parser. The header parsing origonally
    done in HTMIME can be found in <a href="../src/HTInit.c">HTInit.c</a> and
    is registered with <a href="../src/HTInit.html">HTMIMEInit</a>. This call
    is demonstrated in <a
  href="../../LineMode/src/HTBrowse.c">HTBrowse</a>.</li>
</ul>

<h2><a name="4.0D">Release 4.0D February 12 1996</a></h2>

<p>This upgrade release fixes some bugs and it adds functionality for posting
data from memory. This is the full list of changes:</p>
<ul>
  <li>Optimized HTTP request header by taken away an "Accept:" line pr
    accepted content type and instead use the commna notation.</li>
  <li>Introduced <a href="../src/HTMemory.html">HTMemory</a> as dynamic
    memory handler. This module is a part of the <a
    href="../src/WWWUtil.html">WWWUtils interface</a> and it handles better
    management of dynamic memory. You can find a full description in the <a
    href="Using/Memory.html">User's Guide.</a></li>
  <li>We now have an updated <a href="Extrnals.html">list of <em>all</em>
    public functions</a> exported from the Library.</li>
  <li>We also present an updated list of <em>all</em> public interfaces
    available in the Library. You can find it in the <a
    href="Guide/Interfaces.html">Library Internals</a>.</li>
  <li>PUT and POST from memory is implemented. You can now post data from
    memory using the POSTWeb model as for posting remote data objects. The
    Interface is described in <a href="../src/HTAccess.html">HTAccess
    module</a>. There is a very small dummy test implemented in the Line Mode
    browser. You can activate it if you type<em>edit</em> from the command
    line.</li>
  <li>The Mini server now runs (although crude) as a proxy. It is capable of
    serving data as a HTTP/HTTP proxy. It is based on the internal Library
    event loop and is therefore highly portable. It is not intended to be a
    full featured server but a test implementation which shows how to use the
    Library in server applications.</li>
  <li>Bug fixed that caused the following problem: If there hasn't been made
    a connection between the net-&gt;target and the request-&gt;output_stream
    then the latter is not freed if the request is interrupted.</li>
  <li>The <em>referer URL</em> header can now contain a unlimited length
  URL</li>
  <li>A resolver callback function has been introduced in the <a
    href="../src/HTTee.html">HTTee stream</a>. This allows the caller to
    assign a callback function to resolve conflicts between the return codes
    of the two streams.</li>
  <li>The request object as been added as a calling parameter to the <a
    href="../src/HTFWrite.html">HTFWrite stream creation method</a>. This
    allows errors from writing to a file to propagate back to the request
    object.</li>
  <li>The three streams <code>HTSaveLocally</code>,
    <code>HTSaveAndExecute</code> and <code>HTSaveAndCallBack</code> have
    been optimized and they now all use the <a
    href="../src/HTFWrite.html">HTFWrite stream creation method</a></li>
  <li>We have a new module called <a href="../src/HTTPGen.html">HTTPGen</a>.
    It generates general HTTP headers. These headers were a part of the MIME
    header generator, but by isolating them, we can use the MIME header as a
    generic MIME entity header generator.</li>
  <li>Created <a href="../src/HTFWrite.html">HTErrorStream</a> which always
    returns <code>HT_ERROR</code>. It replaces the <a
    href="../src/HTFWrite.html">HTBlackHole</a> has been replace with
    HTErrorStream in many places in order to speed up performance</li>
  <li>Made HTTP response stream (which parses the response line only) into a
    converter so that we can forward the output exactly as received from the
    remote HTTP server. This is important for proxy applications and other
    applications that want to see the output untouched.</li>
  <li>The HTChunk module has been made more solid and the amount of memory
    allocations has been limited.</li>
  <li>Memory cleanup fixed in content length counter stream and FTP
  module</li>
  <li>Introducing HT_CLOSED and HT_PAUSE for handling streams. This was
    required, especially after HTTP supports persistent connections where a
    document is not delimited by a closed connection.</li>
</ul>

<h2>Release 4.0C January 23 1996</h2>
<ul>
  <li>Automatic redirection and Access authentication has been take n out of
    the HTTP module. Instead the new mechanism with request callback
    functions are used so that the application can register handlers to
    handle these situations. The reason for this change is that not all
    applications are interested in having this functionality performed
    automatically.</li>
  <li>Authentication handler and redirection handler added to both the Line
    Mode Browser and the Command Line Tool</li>
  <li>Added three possible return codes on which a request callback function
    can be called:
    <ul>
      <li>HT_PERM_REDIRECT for permanently moved objects</li>
      <li>HT_TEMP_REDIRECT for temporarily moved objects</li>
      <li>HT_NO_ACCESS for insufficient credentials</li>
    </ul>
  </li>
  <li>PUT and POST do now work reliably in the Line Mode Browser and the
    Command Line Tool. Both can PUT or POST a document <b>from</b> either a
    remote HTTP server <em>or</em> the local file system <b>to</b> a remote
    HTTP server.</li>
  <li>An important bug-fix in the internal event manager that prevented a
    socket to be registered for multiple events at the same time.</li>
  <li>Cleanup of the POSTWeb management in the file module and the HTTP
  module</li>
  <li>In addition to progress notification on READ we now support progress
    notification when sending a data object</li>
  <li>Spelling mistake fixed. <em>preemtive</em> is changed to
    <em>preemptive</em></li>
  <li>The W3C Mini Robot has now the ability to stop at a certain depth while
    traversing the Web.</li>
</ul>

<h2>Release 4.0A December 11 1995</h2>
<ul>
  <li>Created the include HTTPUtil.html - a C file may follow</li>
  <li>Changed HTDoAccept so that it automatically inserts the new socket
    descriptor in the Net object.</li>
  <li>HTLoad_terminate moved from HTReqMan to HTHome. It is not automatically
    set up in HTLibInit anymore</li>
  <li>Made HTAnchor and HTLink opaque data objects</li>
  <li>changed HTLink_newResult to HTLink_result</li>
  <li>changed HTLink_newMethod to HTLink_method</li>
  <li>Changed HyperDoc to simply a void pointer. This makes it more generic
    and the application does not have to actually treat it as a document
    anyway</li>
  <li>Introduced the WWW_DEBUG internal format that can be used to redirect
    debug information, for example from a HTTP redirection message etc.</li>
  <li>Request object added to HText_new methods</li>
  <li>changed HTExtParse to HTXParse throughout - H&amp;kon</li>
  <li>HTXParse now null-terminates buffer - H&amp;kon</li>
  <li>return codes from HTTee changed - H&amp;kon</li>
  <li>content-length initialized to -1 - H&amp;kon</li>
  <li>Fixed bug for handling HEAD in HTTP and MIME streams</li>
  <li>Handles of persistent connection is now a semaphore and not a bool</li>
  <li>Changes the event loop so that a timeout handler can return HT_OK or
    HT_ERROR. If the code is not HT_OK then stop the event loop</li>
  <li>Changed request of header enumeration:
    <ul>
      <li>General headers have the prefic HT_G_</li>
      <li>Request headers have the prefic HT_C_</li>
      <li>Server headers have the prefic HT_S_</li>
      <li>Entity headers have the prefic HT_E_</li>
    </ul>
  </li>
  <li>Separated file suffix initialization into HTBInit</li>
  <li>Changed the names in HTChunk to be consistent with the Module_method
    scheme</li>
  <li>Introduced HTBInit.c for setup of file suffixes</li>
</ul>

<h2><a name="Release-4.0">Release 4.0 December 1 1995</a></h2>

<h2>Alpha Release 7, November 28 1995</h2>
<ul>
  <li>Added a backlog parameter to the <a
    href="../src/HTTCP.html">HTDoListen() function</a></li>
  <li>Added a parameter for handling <code>server modules</code> to the <a
    href="../src/HTProt.html">Protocol</a> module. An access scheme (for
    example HTTP, can now be registered together with a <em>client
    module</em> and a <em>server modele</em></li>
  <li>Added <a href="../src/HTAccess.html">HTServDocument</a> to the <a
    href="../src/HTAccess.html">HTAccess module</a> in order to better
    support server applications.</li>
  <li>Made <a href="../src/WWWNews.html">WWWNews.html</a>, <a
    href="../src/WWWHTTP.html">WWWHTTP.html</a>, <a
    href="../src/WWWMIME.html">WWWMIME.html</a>, and <a
    href="../src/WWWFTP.html">WWWFTP.html</a> include files to be used by
    applications.</li>
  <li>Changed functions with the name <code>preemptive</code> to
    <code>preemptive</code> it was a spelling mistake</li>
</ul>

<h2>Alpha Release 6, November 20 1995</h2>
<ul>
  <li>Removed remaining <code>ARGS</code> and <code>PARAMS</code> from the
    sources. All function declarations and definitions now follow the ANSI
    standard.</li>
  <li>Changed <a href="../src/HTAlert.html">HTAlert</a> to be a registration
    module instead of a module to be overriden by an application. Now you can
    register a <a href="../src/HTDialog.html">Dialog</a> module as a callback
    function which is a much more generic moduel. It also means that there
    are no more English text in the <a href="../src/WWWCore.html">Core</a> of
    the Library - it's all in a application module. The Library provides a
    default implementation in the new <a
    href="../src/HTDialog.html">HTDialog</a> module.</li>
  <li>Taken the WWW relevant stuff out of <a
    href="../src/HTString.html">HTString</a> and put it into the new module
    called <a href="../src/HTWWWStr.html">HTWWWStr</a>. The latter is a part
    of the core whereas the former is generic string utilities.</li>
  <li>Made the global variable <code>HTLibraryVersion</code> local to <a
    href="../src/HTAccess.html">HTAccess</a>. The are now only
    <code>WWW_TraceFlag</code> left as a global variable in the whole
  Library.</li>
  <li>There are now four main include files. They are called:
    <dl>
      <dt><a href="../src/WWWUtil.html">WWWUtil.h</a></dt>
        <dd>The WWW Utility module contains a lot of the functionality that
          makes it possible to make applications, that is container modules
          for data objects, basic string functionality etc. This module is
          the basis for all of the following modules and is used
        extensively.</dd>
      <dt><a href="../src/WWWCore.html">WWWCore.h</a></dt>
        <dd>The WWW Core module is a set of registration modules that glues
          an application together. It contains no real functionality in
          itself; it is for example not capable of loading a HTML document.
          It only provides a large set of hooks which can be used to add
          functionality to the Library and to give an application real life.
          We will here a lot more to the structure of the core, and much of
          this guide is actually describing how to add functionality to the
          core.</dd>
      <dt><a href="../src/WWWLib.html">WWWLib.h</a></dt>
        <dd>This include is the main include file for the Library. It
          basically consists of the WWWUtil.h and the WWWCore.h so that the
          application only needs to include this one instead of two.</dd>
      <dt><a href="../src/WWWApp.html">WWWApp.h</a></dt>
        <dd>This module contains a huge set of modules that can be hooked
          into the Core Library and make the application work. In contrast to
          the Core part, you can pick exactly the modules you want from the
          WWWApp.h in order to create your special application whether it is
          a server, a client, a proxy, a robot or any other Web
        application.</dd>
    </dl>
  </li>
  <li><a href="../src/HTGuess.html">HTGuess stream</a> is now a converter
    just like any other converter, and it can be registered by the
    application if wanted</li>
  <li><code>HTClientHost</code> (global var) is removed from the Library as
    it wasn't use there at all</li>
  <li>Introduced <a href="../src/HTHome.html">HTHome module</a> as part of
    the application specific part of the Library. It contains handy functions
    for the application.</li>
  <li>HTGetCurrentDirectoryURL() and HTHomeAnchor() are moved from HTAccess.c
    to the new module HTHome.c</li>
  <li>HTImProxy is taken out as it can be handled in the setup of the
    converters</li>
  <li>Created HTList_appendObject() in <a href="../src/HTList.html">HTList
    module</a> which adds an element to end of list</li>
  <li>Introduced pre request callback functions in HTNet and changed the
    interface. It's described in User's Guide. This means that an application
    can register any action to be executed either <em>before</em> and/or
    <em>after</em> a request is done. This is described in detail in the <a
    href="Using/Net.html">User's Guide.</a></li>
  <li><a href="../src/HTHome.html">HTHome module</a> contains default
    callback functions to be called before and after a request.</li>
  <li>Removed the HTInputSocket_get* functions from <a
    href="../src/HTSocket.html"> HTSocket</a> as they are no more needed
    (they were non-reentrant and belonged to the old interface)</li>
  <li>Added the following HTLib_* functions to the <a
    href="../src/HTAccess.html">HTAccess module</a>:
    <ul>
      <li>const char * HTLib_name (void)</li>
      <li>const char * HTLib_version (void)</li>
      <li>BOOL HTLib_secure (void)</li>
      <li>void HTLib_setSecure (BOOL mode)</li>
    </ul>
  </li>
  <li>Library is now handling cleanup of anchors in HTLibTerminate() as it
    really is a part of the core.</li>
  <li>Default addresses are taken out of HTAccess and added to HTHome. They
    were mainly some default addresses for <code>WWW_HOME</code> etc.</li>
  <li>The Library is now not using env variables at all</li>
  <li>The flag <code>WWW_WIN_ASYNC</code> introduced to use the new async
    window interface. Add this define to your project if you want it</li>
  <li>HTsocketWin and HTwinMsg made internal to HTEvntrg.c. They can now be
    accessed through the methods
    <ul>
      <li>HTEvent_setWinHandle</li>
      <li>HTEvent_winHandle</li>
    </ul>
  </li>
  <li>Added the following formats to the default initialization:
    <pre>        www/unknown -&gt; HTGuess_new
        text/x-www-rules -&gt; HTRules</pre>
  </li>
  <li>Changed format <em>image/x-tiff</em> to <em>image/tiff</em> and
    <em>image/x-png</em> to <em>image/png</em></li>
  <li>Finished the <a href="../src/HTNews.html">News module</a> using
    non-preemptive sockets. Final testing is still missing</li>
  <li>Changed HTRules so that it now is a stream. It also handles line
    wrapping and has a much more solid parsing mechanism. See description in
    <a href="Using/Rules.html">User's Guide</a> for more details.</li>
</ul>

<h2>Alpha Release 5, November 8 1995</h2>

<p>The Library has now undergone a major restructuring in order to define the
APIs between the various parts and to make it more modular. The new
architecture is described in the <a
href="Architecture/DesignModel.html">Architecture document</a> and includes a
new Net manager that handles a request queue, a DNS manager that handles
persistent connections and a well defined Request manager where the HTRequest
object is an opaque object.</p>

<h3>Core Modules</h3>
<ul>
  <li>Generalized the <a href="../src/HTError.html">Error Manager</a> to work
    on lists instead of as directly on a request object. This makes it
    possible to use the error manager in all situations.</li>
  <li>Changed <em>HTAppName</em> and <em>HTAppVersion</em> to parameters to
    HTLibInit() instead of as global parameters.</li>
  <li>Introduced a new main include file called <a
    href="../src/WWWApp.html">WWWApp.h</a> which contains applications
    specific modules. None of these modules are actually required to compile
    and link the Library, but the application can use them if needed.</li>
  <li>None of the access modules (HTTP, FTP, NNTP, etc.) are set up by
    default anymore. This is now for the applications to do.</li>
  <li>Changed <em>TRACE</em> to <em>WWWTRACE</em> as it interferes with macro
    on NT</li>
  <li>The balanced binary tree in <a href="../src/HTBTree.html">HTBtree</a>
    is not used anymore. The functionality is now provided by the new <a
    href="../src/HTArray.html"> HTArray module</a> that is a dynamic array of
    pointers. It is much like the <a href="../src/HTChunk.html">HTChunk
    module</a> but for pointers instead of dynamic strings. The advantage is
    that the fast <em>qsort</em> algorithm can be used on the array.</li>
  <li>Moved the two functions <code>HTWWWTLocal()</code> and
    <code>HTLocalToWWW()</code> from the <a href="../src/HTFile.html">HTFile
    Module</a> to the <a href="../src/HTString.html">HTString module</a> for
    converting between local file names and URLs</li>
  <li>It is now possible to register a call back function together with a
    timeout that is used in the select call of the event loop. When the
    select() call times out, the call back function is called. The
    registration can either be so that the call back <em>always</em> is
    called when that the select call times out <em>or</em> only when Library
    sockets are in use.</li>
  <li>We have a port to PowerMac and 68K!!! This has been provided by Steven
    T. Roussey &lt;sroussey@eng.uci.edu&gt; and Brad Barber
    &lt;barber@well.com&gt;</li>
  <li>We have changed HTThread to <a href="../src/HTNet.c"> HTNet.c</a> as
    thread was too confusing. This module has been cleaned up and rewritten
    so that <a href="../src/HTNet.c">HTNet.c</a> now contains the Net
    manager. The Net manager controls the net access so that we only keeps a
    specified amount of sockets open simultaneously (called a request queue).
    It also partly controls the management of persistent connections together
    with the <a href="../src/HTDNS.html"> DNS Manager.</a></li>
  <li>The <em>HTRequest Object</em> is now known to the <a
    href="../src/HTReq.html">Request Manager</a> only. It is accessible
    through a lot of methods just like the <a
    href="../src/HTAnchor.html">Anchor object</a> etc. The <a
    href="../src/HTAccess.html">HTAccess module</a> is now a user interface
    to the Request Manager but it doesn't have to be used - you can use the
    Request Manager directly but often it is easier to go through the Access
    Module.</li>
  <li>The Protocol object has been turned into an object internal to the <a
    href="../src/HTProt.html">Protocol manager</a>. This means that protocol
    information can be accessed via a set of methods provided by the
  manager.</li>
  <li>We have changed case sensitive search to insensitive search when
    finding an access methods (HTTP, FTP, telnet etc.) for a URL. This
    catches silly errors in URLs like <em>HTTP://www.foo.com</em></li>
  <li>The static protocol declarations have been replaced with a set of
    parameters to the creation method of a protocol object in the <a
    href="../src/HTProt.html"> Protocol Manager</a> which is more handy.</li>
  <li>We added HTProtocol_delete() as method in the <a
    href="../src/HTProt.html">Protocol manager</a>. This means that it is now
    possible to <em>unregister</em> a protocol at runtime. If you are on a
    platform with dynamic linking (for example DLLs) then this can save a lot
    of space.</li>
  <li>Introduction of application call back function for memory cache. This
    is a part of separating the <a href="../src/HText.html">HText module</a>
    and also to make the memory cache manager more flexible. An example
    implementation can be found in the <a
    href="../../LineMode/src/GridText.c">GridText module</a> in the <a
    href="../../LineMode/">Line Mode Browser</a>.</li>
  <li>Full support for the <a href="../src/HTAnchor.html#links">HTLink
    object</a> that binds together two anchors. This is a requirement for
    keeping track of the <a href="Architecture/PostWeb.html">Post
  Web</a>.</li>
  <li>URL fragment identifiers were case insensitive - they are now case
    sensitive</li>
  <li>Added <code>result</code> field to the <a
    href="../src/HTAnchor.html#links"> HTLink</a> so that the result of a
    posting operation is stored in the link object. This means that the
    application can see which post operations succeeded and which didn't.
    This can for example be used in a GUI client to show the relations
    between the source and destination anchor as "dim" links.</li>
  <li>Fixed bug in put mechanism that caused destinations to accumulate in
    the postweb. Now `old' destinations are still registered but not included
    in a new postweb - they can, however, be discarded all together, but
    often the information is nice to have. On a GUI client, it can be shown
    as 'dimmed' destinations.</li>
  <li>Removed remaining outputs directly to stdout using <em>fprintf()</em>.
    Now all goes through <a href="../src/HTAlert.html"> HTAlert module</a>.
    This was a problem in some of the protocol modules as well (especially in
    the Telnet module).</li>
  <li>The <code>CacheItems</code> structure is removed from anchor object and
    replaced by <code>(BOOL) CacheHit</code>. If <code>CacheHit=YES</code>
    then the format negotiation and suffix binding is not used in <a
    href="../src/HTFile.html">HTFile Module</a> but the object is loaded
    directly (from the local file cache) using non-blocking I/O</li>
  <li>Internal DNS/hostname cache optimized and made more flexible to support
    <b>persistent connections</b> for all protocols that support this, for
    example HTTP, FTP, and NNTP. The first version has support for HTTP only,
    but the other ones will follow shortly. and multiple connections to same
    address. You can now control the garbage collection of DNS entries based
    on time. The DNS object keeps also information about the remote server
    (class of request, for example HTTP or FTP and the type of server, for
    example HTTP/1.0, HTTP/0.0 etc.). This means that it is possible to
    adjust a request to a remote server once the type is known. For example,
    the Library now distinguishes between HTTP servers version 0.9, 1.0, and
    1.1. New classes and versions can be registered at run time just like
    protocol modules.</li>
  <li><a href="../src/HTTCP.html">HTDoConnect</a> rewritten as a state
    machine which makes it a lot easier to understand and change. It is
    furthermore and important part of the persistent connection
  management.</li>
  <li>Removed <code>HTMaxRedirect</code> as a global variable. It is now
    private to <a href="../src/HTReq.html">Request manager</a> with two
    methods to access it</li>
  <li>Support for context swapping and call back function in the <a
    href="../src/HTReqMan.html">HTRequest object</a>. This allows the
    application to distinguish between multiple ongoing requests. See more
    information in the <a href="Using/Access.html">User's Guide</a>.</li>
  <li>Bug fix in <a href="../src/HTTCP.c">HTTCP.c</a> HTGetHostName thanks to
    "dave (d.) mielke" &lt;davem@bnr.ca&gt;</li>
</ul>

<h3>Protocol Modules</h3>
<ul>
  <li>We have a first version of a new <a href="../src/HTNews.html">News
    module</a> which supports POST, persistent connections and a lot of more
    efficient NNTP commands.</li>
  <li>Re-implemented long directory listings for FILE and FTP access using
    streams. The HTML machinery is now separated into the new <a
    href="../src/HTDir.html">HTDir module</a>. It provides long directory
    listings for Unix, NT, and VMS.</li>
  <li>Support for <b>persistent connections</b> in HTTP requests. This has
    been enabled by the generic model in the DNS manager.</li>
  <li>Support for the methods <em>DELETE</em>, <em>LINK</em>, and
    <em>UNLINK</em>.</li>
  <li>Re-implemented <a href="../src/HTFTP.html">HTFTP</a> module using
    <b>persistent connections</b>, multiplexed (non-blocking) sockets and
    streams for input and output. In fact the FTP module is now very capable
    and it's <em>half</em> the size of what it was because the Library in
    general supports the features needed in the FTP module. NOTE: Generation
    of HTML objects from directory listings is disabled for the moment as we
    are re-implementing it using streams. However, now it is possible to get
    the raw source code directly from the FTP server by typing:
    <pre>        www -source ftp://ftp.w3.org</pre>
  </li>
  <li>Re-implemented <a href="../src/HTGopher.html">Gopher module</a> so that
    it uses streams for input and output instead of the obsolete <a
    href="../src/HTSocket.html"> HTSocket_getCharacter()</a> method. The
    module now also uses non-blocking I/O as the HTTP module and the file
    module. A result of using streams is that you now can obtain the "real"
    source (the ASCII object sent by the gopher server) by using
    <em>WWW_SOURCE</em> as the output format. Before the source was
    equivalent of the source of the HTML object that was generated on the
  fly.</li>
  <li>Updated <a href="../src/HTTelnet.c">Telnet module</a> to understand URL
    format <em>user:passwd@host:port</em>. Cleaned up the code and fixed a
    set of bugs at the same time.</li>
  <li>Support for <em>Host</em> header in <a href="../src/HTTPReq.html">HTTP
    Request module</a>. Actually this was <em>Orig-URI</em> but it was
    changed on the fly.</li>
  <li>Fixed bug on HTTP redirect if no body part was present. This is the new
    "trend" especially from Netscape's server. The old servers always sent
    back a small HTML document explaining if the client didn't understand
    automatic redirect.</li>
</ul>

<h3>Stream Modules</h3>
<ul>
  <li>We now have a <a href="../src/HTBound.html">MIME multipart parser
    stream</a> which supports nested MIME multipart messages. This stream
    sets up a new MIME parser stream each time it finds a new body. Preamble
    and epilog messages are ignored by default but can be redirected to the
    special <a href="../src/HTReq.html">Debug Stream</a> output of the
    Request object.</li>
  <li>We have added a content counter stream and a buffer stream in <a
    href="../src/HTConLen.html">HTConLen module</a>. This can be used to
    count the number of bytes in a data object either to be sent to a remote
    server or as a check of a received body. Together with the Content Length
    counter stream there is also a buffer stream that can buffer up to a
    certain amount of dat before it goes transparent.</li>
  <li>We have replaced the internal format identifier <code>www/mime</code>
    with the MIME conforming <code>message/rfc822</code> format. This may
    affect the setup of stream converters that used the old format.</li>
  <li>We have also added a new <a href="../src/HTMIMERq.html">HTMIMERq
    module</a> which is responsible for creatin MIME metainformation when
    sending requests. This is used, for example, by the <a
    href="../src/HTTP.c">HTTP protocol module</a> and the <a
    href="../src/HTNews.c">NNTP protocol module</a></li>
  <li>For the first time, it is <em>not</em> required to define dummy
    definitions of the external declared function in the <a
    href="../src/HText.html">HText Interface</a>. It is now only referenced
    from the <a href="../src/HTML.html">HTML module</a> and the <a
    href="../src/HTPlain.html">Plain Text Presentation module</a>. This means
    that applications that do not use the HTML/HText interface no more have
    the modules linked into the final object code.</li>
  <li>The <a href="../src/SGML.html">SGML module</a> is no longer included
    anywhere anymore except where necessary. The structured stream definition
    can be found in <a href="../src/HTStruct.html">HTStruct module</a></li>
  <li>Make registration of callback function for unknown MIME headers in the
    <a href="../src/HTMIME.html">MIME parser</a>. The application can now
    more easily experiment with new headers. The registration process is
    described in the section <a href="Using.html">How to get Started Writing
    an App</a></li>
  <li>Added support for png (lossless graphics format) (patch from unknown?)
    into the <a href="../src/HTGuess.html">Guess stream</a></li>
  <li>Bug fixed in <a href="../src/HTML.html">HTML parser</a> It couldn't
    handle more than 20 nested HTML tags which can happen for example in
    auto-generated HTML documents.</li>
  <li>HTLoadError taken out completely. Replaced by the <a
    href="../src/HTError.html">error manager</a>. It was for (stupid)
    historic reasons put into the HTML parser.</li>
</ul>

<h3>Application Modules</h3>
<ul>
  <li><a href="../src/HTAlert.html">HTInteractive</a> made a private flag to
    <a href="../src/HTAlert.c">HTAlert.c</a>. It can now be reached via two
    methods in the module.</li>
  <li>All functions in the <a href="../src/HTAlert.html">Alert Module</a> now
    has a request object as part of the calling parameters. The reason is
    that then the implementation of this module can call a registered call
    back function (as described above) so that the user message can be put
    into the right context.</li>
  <li>Mem leak fixed in <a href="../src/HTLog.html">HTLog module</a> and
    added result of request to the log file. The log module is no longer
    called in the Library at all so if you do not use then it is not included
    in the application.</li>
  <li>Rewritten <a href="../src/HTHist.html">HTHistory module</a> to perform
    a better history mechanism - the old version did not work properly. Some
    of the new features are
    <ul>
      <li>Support for multiple history lists. You can use the context
        information in the request object to find the right list at any given
        time.</li>
      <li>The list now supports both <em>back</em> and <em>forward</em> for
        navigation. The list is no more "back trace with deletion".</li>
    </ul>
    <p>See <a href="Using/History.html">User's Guide</a> for more
    information</p>
  </li>
  <li>Introduced <a href="../src/HTAlert.html">HTProgress()</a> notifications
    for the following operations
    <ul>
      <li>DNS lookup</li>
      <li>connect to remote host (either passive or active)</li>
      <li>read data from network</li>
      <li>write data to network</li>
      <li>request finished</li>
      <li>waiting for free socket</li>
    </ul>
    <p>On each of these operations, the library calls <em>HTProgress()</em>
    with a code so that the application can define what to do with it.</p>
  </li>
</ul>

<h3>Generic Utilities</h3>
<ul>
  <li>Introduced HTChunkData() and HTChunkSize() as methods in the <a
    href="../src/HTChunk.html">HTChunk module</a>. No more need to look into
    the HTChunk object itself.</li>
  <li>Changed HTStat to HT_STAT and HTLStat to HT_LSTAT as they are
  macros</li>
  <li>The <code>HTSimplify()</code> function in the <a
    href="../src/HTParse.html">HTParse module</a> now follows the <a
    href="http://www.ics.uci.edu/pub/ietf/uri/rfc1808.txt">RFC 1808
    Specification</a></li>
  <li>Fixed bug in <a href="../src/HTParse.c">HTCanon()</a> that got confused
    about &lt;http://teller.datawave.net:80/test/../imx/weelogo.gif&gt;
    thanks to Henry Minsky</li>
  <li><a href="../src/HTParse.c">HTCanon()</a> made private to <a
    href="../src/HTParse.html">HTParse module</a> as it is called from
    HTSimplify() only</li>
  <li>All <em></em> replaced with <em>(wb|ab)</em> if known binary output.
    This was a problem on Windows 3.1 platform as it inserted extra
    <em>CRLF</em> line terminators.</li>
  <li>Created HTNumToStr() in <a href="../src/HTString.html">HTString
    Module</a> to convert a number to a string using prefixes. This can be
    used in the progress notification to write <em>Read 1.6K</em> etc.</li>
</ul>

<h2>Library 3.1, November 14 1995</h2>

<p>Official release</p>

<h2>Library 3.1pre3 Release Notes, November 13</h2>

<p>This is a last test of the 3.1 release. The official 3.1 release will
follow in a few days. The purpose of this third pre-release is simply to
avoid any obvious problems while we still have time. Very little will change
in the final release! The big difference is that Windows NT is fully
supported!</p>

<h3>New Features and Interfaces</h3>
<ul>
  <li>Changed "rs6000" to "AIX" and "decstation" to "ultrix" in BUILD script.
    The previous names were not obvious</li>
  <li>Have created <a href="../src/HTProt.html">HTProt module</a> which
    handles protocol module registration. It used to be in <a
    href="../src/HTAccess.html">HTAccess module</a>, but this module is now
    uniquely for user requests</li>
  <li>Changed the names of the following functions in the <a
    href="../src/HTProt.html">HTProt module</a>
    <pre>        HTRegisterProtocol        -&gt; HTProtocol_add
        HTProtocolDispose        -&gt; HTProtocol_deleteAll
        HTProtocolBlocking        -&gt; HTProtocol_isBlocking</pre>
  </li>
  <li>Canonicalization now understands host names terminated with a ":", for
    example "www.w3.org:" is converted into "www.w3.org"</li>
  <li>HTEvnttd.c is removed from the source tree; it's no longer needed.
    Likewise, HTEvent.c is no longer needed; it has been superseded by
    HTEvntrg.c and HTEvntrg.html.</li>
  <li>Added support for REENTRANT versions of
    <pre>        getlogin_r
        gethostbyname_r
        gethostbyaddr_r
        ctime_r
        localtime_r
        gmtime_r
        asctime_r
        ctermid_r
        rand_r
        readdir_r</pre>
    <p><em>except</em> in <a href="../src/HTFTP.html">HTFTP module</a> as it
    will be changed later. Some of the function cause problems on
    Solaris...</p>
  </li>
</ul>

<h3>Bug Fixes</h3>
<ul>
  <li>Fixed bug in HTBind_getSuffix that caused garbage file suffixes</li>
  <li>Fixed memory leak in HTAnchor if a child has more than one
  destination</li>
</ul>

<h2>Library 3.1 Prerelease 2, November 1 1995</h2>

<p>The code word for the 3.1 release is support for remote collaborate work
where people can use HTTP and the Web as a remote authoring environment. The
reason for the slight delay is that this release has a new "Post Web" model
for implementing PUT and POST, the documentation has been reorganized and
rewritten, and some other important features have been incorporated. The Post
Web model is described in the new documentation, see the reference below.</p>

<p>In addition to the new set of features and functionality this release also
is the first example of source code distributed under the W3C conditions.
This means that the code is available to consortium members only within a
month from the release date.</p>

<p>A lot of the work put into this release has been to update the API of the
Library. This is mainly described in the new "User Guide", so please do read
this and remember that comments are welcome!</p>

<h3>New Features and Interfaces</h3>
<ul>
  <li>The Post Web model is supported by the following methods to handle the
    HTRequest object
    <ul>
      <li>HTRequest_removeDestination()</li>
      <li>HTRequest_linkDestination()</li>
      <li>HTRequest_unlinkDestination()</li>
      <li>HTRequest_removePostWeb()</li>
      <li>HTRequest_killPostWeb()</li>
    </ul>
  </li>
  <li><a href="../src/HTFile.html">HTFile module</a> is completely rewritten
    as a state machine much like the <a href="../src/HTTP.html">HTTP
    module</a>. It is now possible to have non-blocking, interruptible I/O
    and to PUT and POTS from a local file as well as from a remote HTTP
    server.</li>
  <li>HTCopyAnchor is rewritten to use the PostWeb</li>
  <li>The thread model is extended to include a HTThread_kill() function so
    that threads are terminated immediately upon request</li>
  <li><a href="../src/HTProxy.html">HTProxy module</a> is introduced. This
    module substitutes the environment variables for defining gateways and
    proxies. It can now be done dynamically at run time. For backwards
    compatibility HTProxy_getEnvVar() can be used to read the most used
    environment variables.</li>
  <li>Taken socket read/write functionality out of HTFormat and created <a
    href="../src/HTSocket.html">HTSocket module</a> which handles all the
    basic network access</li>
  <li>Spawned <a href="../src/HTMethod.html">HTMethod module</a> from
    HTAccess module</li>
  <li>Better handling of WAIS src files and use of gateway information</li>
  <li>Upgraded the WAIS to handle version 0.5 of the freeWAIS library.</li>
  <li>Better handling of media types from WAIS responses (guessing)</li>
  <li>All HTTP headers can now be transmitted and received and they can all
    be enabled/disabled using a bitmask.</li>
  <li>New functions to support accept encoding, language, and charset</li>
  <li>Guess stream now handles macbinhex format</li>
  <li>No more circular references in any of the Library include files</li>
  <li>Introduced REMOVE and RMDIR as macros instead of direct system
  calls</li>
  <li>Removed HTRequest_clear() - it's not safe to reuse a request object</li>
  <li>HTStrip() is now placed in the HTString module</li>
  <li>introducing the method used in the link object in the anchor</li>
  <li>HTTP modified to support PostWeb</li>
</ul>

<h3>Bug Fixes</h3>
<ul>
  <li>Cache is now avoided if in secure mode (no access to local file
  system)</li>
  <li>Bug fix to allow simultaneous read and write on the same socket</li>
  <li>Stream stack now dumps to local file if no conversion can be made</li>
  <li>Bug fix that caused core dumps for HTTP 0.9 servers</li>
  <li>Bug fixed in stream stack if system() call is not present. This release
    has a new model called "Post Web" for handling put and post from a source
    to a multiple number of destinations. Furthermore</li>
</ul>

<h2>Library 3.1 Prerelease 1, May 20 1995</h2>

<p>A lot of the work put into this release has been to update the API of the
Library. This is mainly described in the new <a href="Using/">User Guide</a>,
so please do read this and remember that comments are welcome!</p>

<h3>New Features and Interfaces</h3>
<ul>
  <li>Windows NT Support (and possibly Windows 3.1 with Win32S) thanks to
    Charlie Brooks, &lt;cbrooks@osf.org&gt;</li>
  <li>A lot easier handling of headers in the HTTP module including support
    for extra headers</li>
  <li>Improved <a href="../src/HTMIME.html">HTTP/MIME parser</a> which
    recognizes 99% of the HTTP headers The rest will be ready in the next
    release! This includes support for "charset" and "level" parameter</li>
  <li>Support for PUT and POST. This is not yet fully implemented but it is
    possible to experiment with it</li>
  <li>Big enhancement of the anchor module with support for all HTTP/1.0
    headers, garbage collection etc.</li>
  <li>The Cache manager is made more object oriented with a broader set of
    methods. The garbage collector is not the best</li>
  <li>HTBind module created for better bindings to file system with new hash
    function for improved speed and more functionality than before</li>
  <li>Created HTDateTimeStr() and HTMessageID() in <a
    href="../src/HTString.html">HTString</a></li>
  <li>Separated HTStructured into its own stream definition module (<a
    href="../src/HTStruct.html">HTStruct.h</a>)</li>
  <li>Introduced STREAM_TRACE and BIND_TRACE as new debug flag</li>
  <li>Original reason messages are now passed back as a parameter by the
    error handler when talking to a remote HTTP server</li>
  <li>Introduction of error_format in the request object. This can be used to
    get debug information out of the Library</li>
  <li>Better handling of media types in FTP and Gopher including recognition
    of UU encoded files</li>
</ul>

<h3>Bug Fixes</h3>
<ul>
  <li>Eventloop responds now faster on events as it more often does a
  select</li>
  <li>HTTP version strings are now string and not floats</li>
  <li>Many platform dependent macros introduced and a lot of cleanup</li>
</ul>

<p><b><big><big><img src="../../Icons/32x32/caution" alt="Note" border="0">
</big></big></b><big><big><i><a href="http://www.cern.ch">CERN</a> terminated
its direct engagement in the World Wide Web with the release of Library
version 3.0. The code is now developed and maintained by <a
href="http://www.w3.org">W3C</a>.</i></big></big></p>

<h2>Library 3.0, Mar 21 1995</h2>

<p>Many of the modifications and new features are mentioned under the
pre-releases.</p>
<ul>
  <li>Changed all <em>float</em> to <em>double</em> in order get it
    consistent with the working floating type in C</li>
  <li>Fixed problems with memory in HTML.c</li>
  <li>Introduced definition of <code>errno</code> constants for WIN32, as
    WinSock doesn't define them using BSD notation</li>
</ul>

<h2>Library 3.0 Prerelease 3, Mar 10 1995</h2>

<h3>New or Changed Features</h3>
<ul>
  <li>All library include files which contains public information for
    applications are now contained in the single include file <a
    href="../src/WWWLib.html">WWWLib.h</a> which is the only one necessary
    <b>PLEASE DON'T USE ANYTHING ELSE!!!</b></li>
  <li>Changed TRACE messages so that the target is the macro TDEST and not
    stderr. This means that on platforms that don't support stderr, TRACE
    messages can be redirected to a local file.</li>
  <li>Due to the PC Port some modules (definition and declaration files) have
    changed names so that the max length is 8 characters:
    <ul>
      <li>s?HTFWriter?<a href="../src/HTFWrite.html">HTFWrite</a>?g</li>
      <li>s?HTHistory?<a href="../src/HTHist.html">HTHist.h</a>?g</li>
      <li>s?HTEPtoClient?<a href="../src/HTEPtoCl.html">HTEPtoCl</a>?g</li>
      <li>s?HTDescript?<a href="../src/HTDescpt.html">HTDescpt</a>?g</li>
      <li>s?HTExtParse?<a href="../src/HTXParse.html">HTXParse</a>?g</li>
      <li>s?HTErrorMsg?HTErrMsg?g</li>
    </ul>
  </li>
  <li>Move EnableFrom to <a href="../src/HTAccess.html">HTAccess module</a>.
    This variable determines whether the HTTP header <em>From: </em> should
    be generated. The default value is <em>off</em></li>
  <li>Sockets are no longer assumed to be small, non-negative integers, but
    uses macros. This should ensure portability to Windows NT.</li>
  <li>Introduced socerrno and errno so that WinSock can use its own
    definition whereas `local' errno can still use the well-known
  version.</li>
  <li>Introduced <code>error_stream</code> as field a HTRequest object. All
    information contained in HTTP responses which don't naturally contain a
    body entity, for example redirection codes (3xx) and client error codes
    (4xx) will be put down this stream so that it can be put into a debug
    window.</li>
  <li>HTNewsHost is now a local variable in the <a
    href="../src/HTNews.html">HTNews module</a>. Use HTGetNewsHost and
    HTSetNewsHost to set and get the current value. The news module will be
    rewritten in the near future as it has many problems.</li>
  <li>The <a href="../src/HTTP.html">HTTP</a> module understands all HTTP/1.0
    return codes and is more solid</li>
  <li>Many portability problems has been solved and optimized. Most system
    dependent things are now put into <a href="../src/wwwsys.html">tcp
    module</a></li>
  <li>Interface to CSO name server made nicer - generates correct HTML</li>
</ul>

<h3>Bug Fixes</h3>
<ul>
  <li>file:// no more tries ftp:// if host=localhost</li>
  <li>Improved proxy support and fixed bug when reloading a document from a
    proxy</li>
  <li>Bug fixed in HTGetHostName() which didn't include a dot &lt;.&gt;</li>
  <li>Bug fixed if UserID/passwd was not correct and don't want to retry</li>
  <li>HTErrorAdd and HTErrorSysAdd no always return HT_ERROR</li>
  <li>Fixed bug in HTGetDomainName when no domain name is present at all</li>
  <li>Add output_flush to request object</li>
  <li>Uses IOCTL as a macro now - not fcntl</li>
  <li><em>and a lot of other stuff...</em></li>
</ul>

<h2>Library 3.0 Prerelease 2, Dec 2 1994</h2>
<ul>
  <li>Introduced memory cleanups from Eric Sink into
    <code>HTLibTerminate()</code></li>
  <li>Now the client can provocate a call to
    <code>HTEventRequestTerminate()</code> even when the request never enters
    the eventloop. This is necesary so that the client can cancel busy icons,
    spinning globes etc.</li>
  <li>Introduced <code>EVENT_TERM</code> as return code for the
    HTEventHandler function</li>
  <li><code>HTEventHandler() now</code> has a double pointer so that the
    request pointer can be modified from the client</li>
  <li>Fixed bug in <code>HTSearch()</code> and <code>HTLoadRelative()</code>
    where wrong return code was returned (BOOL instead of int)</li>
  <li>Introduced BlockingIO field in the request object to override the the
    mode registered in the protocol object. This can be used as an easy way
    to make blocking I/O</li>
</ul>

<h2>Library 3.0 Prerelease 1, Nov 26 1994</h2>

<h3>New and Changed Features</h3>
<ul>
  <li>Introduced the function HTLibInit() and HTLibTerminate() which MUST be
    called when the application starts up and terminates.</li>
  <li>Introduced the modules HTThread and HTEvent. HTEvent is the client
    interface when using multithreaded functionality and HTThread is the
    internal socket management</li>
  <li>All __STDC__ defines now concentrated to HTUtils.html where it is
    called _STANDARD_CODE_ so that _cplusplus also handles this</li>
  <li>`new' and `template' not used a names anymore (confuses C++)</li>
  <li>Removed from field in HTRequest object. This is now handled by the
    functions HTGetMailAddres and HTSetMailAddress and the flag HTEnableFrom
    in the HTTP module.</li>
  <li>Changed HTSetMailAddress so that a call with parameter equals NULL or
    "" clears the contents of the mail-address.</li>
  <li>The number of parameters to Streamstack function is now compatible with
    the arguments to a stream converter, so that we don't loose any
    information while putting up the stream stack.</li>
  <li>HTOutputSource variable is removed. You should use WWW_SOURCE in the
    request object</li>
  <li>HTGuess stream is a a converter compatible stream so that it actually
    can be setup as a converter</li>
  <li>The stream methods `abort' and `_free' now returns int instead of void.
    On success from these methods `_free' returns 0 and `abort' return
  EOF</li>
  <li>Taken HTEscape and HTUnescape and put them into the HTEscape module.
    The functionality is the same but now they can be used in utility
    programs without linking in the whole Library</li>
</ul>

<h3>Bug Fixes</h3>
<ul>
  <li>Removed bug in WAIS module which caused a lot of core dumps</li>
  <li>Removed bug in format classification from URL suffix in HTGoper when
    the file was plaintext</li>
  <li><em>localhost</em> is now recognized again after canonicalization in
    <code>HTLoadFile()</code></li>
  <li>WAIS SEARCH now produces proper HTML</li>
  <li>Max number of lines in WAIS decreased to 200 as 250 (previous) dumps
    core</li>
  <li>Bug fixed in <code>HTGetHostName()</code> if we must use the
    getdomainname() function.</li>
  <li>Added some support for SCO</li>
  <li>Handling of gopher items of type ERROR (3) changed so no more core
    dumps in server</li>
</ul>

<h2>2.17 Release on November 25 1994</h2>

<h3>New and Changed Features</h3>
<ul>
  <li>The host-cache is now extended so that it tries <em>all</em>
    IP-addresses before it fails the request. It always starts with the
    fastest IP-address.Different penalty is added to the connect times
    dependent of the errno returned from <code>connect()</code>.</li>
  <li>In addition to HTSimplify which canonicalizes the URL path, a new
    function now canonicalizes the host-part of the URL. This means that URLs
    like
    <pre>        http://info/ = http://www.w3.org:80/ = http://INFO.CeRn.CH/ =
        http://www.w3.org. = http://www.w3.org/</pre>
    <p>now all are treated identical. This is useful for all the caches based
    on URLs such like the Server document cache and the hostname cache</p>
  </li>
  <li>TRACE is now differentiated into a bit flag so that TRACE messages can
    be turned on and off for individual groups of messages. This was
    necessary as the amount of verbose output was growing too much</li>
  <li>Redirection understands now `URI:' and `Location:'. Implemented after
    discussion on www-talk</li>
  <li>Changed 404 Error Message to `Access Forbidden'. The URL is no more
    included in the message as it is sensitive information</li>
  <li>FTP client now sends full email address of the user as the password for
    anonymous access instead of USER@. This allows access to some servers
    which don't accept the old format</li>
  <li>The data connection in a FTP session is now based on the return value
    sent by the PASV return code rather than the URL. It is not always the
    case that the data connection is on the same host as the control
    connection</li>
  <li>UserID and Passwd in FTP URLs can now contain special characters, like
    '@' etc.</li>
  <li>The Gopher listings are now slightly lighter and don't contain the
    `name' and `files' any more</li>
  <li>Support of Gopher info items. They are treated as normal messages. The
    gopher code for this is `i'</li>
  <li>WAIS module now guesses the stream format when TEXT is returned from
    the WAIS library as it might be HTML.</li>
  <li>The Protocol modules: FTP, WAIS, and Gopher now produce proper HTML
    with etc. in the beginning</li>
  <li>Added a function that returns the domain name taken from the same
    location as HTGetHostName(). The functionality of obtaining current host
    names, mail addresses etc. have improved, see HTTCP.html for more</li>
  <li>Introduced the flag HTInteractive in HTAccess.html to tell whether
    functions in HTAlert can prompt the User from within the Library or not.
    Default is YES.</li>
  <li>The common BUILD for the Line Mode Browser, the CERN Server and the W3C
    Sample Code Library now accepts a command line option:
    <pre>        BUILD linemode | daemon | library</pre>
    <p>to build a specific component. The default action is to build all
    three parts. BUILD is now also provided in a Bourne Shell version</p>
  </li>
</ul>

<h3>Bug Fixes</h3>
<ul>
  <li>Fixed memory leak in HTWAIS Doc retrieval. However, the functionality
    or performance has not changes</li>
  <li>If no host is found in the URL then no attempt is made to connect to
    host 0.0.0.0 that is localhost. Some hosts do have an alias for this
    address</li>
  <li>Fixed free memory read in redirections. Put redirection counter into
    request object. Now no more than (default) 10 redirections are
  allowed</li>
  <li>Fixed bug in FTP module to handle really slow hosts in the select call.
    The select timed out without the right action taken.</li>
  <li>FTP module chopped off the first line of a Windows NT ftp server as it
    doesn't send a traditional first UNIX line. Fixed! Well, it <em>did</em>
    look like UNIX, but no more than that :-(</li>
  <li>Problem in HTTeXGen. Some markups was spread over a new line, and LaTeX
    doesn't like that.</li>
  <li>Remove the <code>ACCESS_AUTH</code> define as it is never used anymore
    (no more compilation without access authentication)</li>
  <li>Fixed bug in the ISO Latin 1 translation table in HTML.c. This was a
    problem for estonian documents or other with many special characters</li>
  <li>Fixed bug in HTSimplify not skipping host names. HTSimplify is made
    faster and is now only called once (both from the server and the client).
    Before it was called 2-3 times.</li>
  <li>Bug found in FTP URLs containing UserID and Passwd fixed</li>
  <li>Bug fixed in name generation in client cache</li>
  <li>Removed bug in FTP and IP-rotation on multi-homed hosts. When FTP
    server is in PASV mode it sends back a port number on a specific host. In
    this case we can't use IP-address rotation.</li>
  <li>Bug with FTP IP-address network order fixed for PASV mode</li>
  <li>Gopher errors (code 3) are now just put as a string as they are not
    <b>real</b> error</li>
  <li>Bug fixed in HTWriter.c function <code>flush()</code> where a partial
    success in NETWRITE would produce a wrong output (repeated buffer)</li>
</ul>

<h2>2.16 Prerelease 2, November 1994</h2>

<h3>WAIS Client</h3>

<p>The WAIS client has been improved and some bugs have been fixed:</p>
<ul>
  <li>Bug in the parser of the search result from the WAIS module fixed</li>
  <li>Maximum number of lines presented from a search made a configuration
    variable. Default value is 100 (was 40)</li>
  <li>Introduced WAIS's own error messages as they are returned from the WAIS
    library</li>
  <li>The presentation of WAIS on the screen made nicer (well - I think it
    is!)</li>
</ul>

<h3>HTTCP Module</h3>
<ul>
  <li>Bug in the host cache fixed</li>
</ul>

<h3>Access Authorisation</h3>
<ul>
  <li>Premature free of memory fixed</li>
  <li>Missing initialization fixed</li>
</ul>

<h2>2.16 Prerelease 1, April 1994</h2>

<h3>New Features and Changed Interfaces</h3>

<h4>HTTP Client</h4>

<p><a href="../src/HTTP.html">HTTP</a> module contains the code for the HTTP
client. The module is now reorganized and made more modular.</p>
<dl>
  <dt>Automatic Redirection</dt>
    <dd>Now supported by the HTTP Module. The name of the new URL is parsed
      to the client via the error_stack as a ERR_INFO message, see <a
      href="../src/HTError.html">HTError</a> module. The maximum number of
      redirections is set by the variable HTMaxRedirections.</dd>
  <dt>Referer Field in HTTP request</dt>
    <dd>Clients are provided the possibility of sending a <a
      href="../../Protocols/">Referer Field</a> in a <a
      href="../../Protocols/">HTTP Request</a>. This is done by filling out
      the HTRequest-&gt;parentAnchor field.</dd>
  <dt>From field in HTTP Request</dt>
    <dd>Clients can now send the full email address of the current user in
      the <a href="../../Protocols/">HTTP From field</a>. The feature is
      turned off by default as it might get a bit tricky through a Proxy.</dd>
  <dt>204 Response</dt>
    <dd>Support of return code `204 No Response'</dd>
</dl>

<h4>FTP Client</h4>

<p><a href="../src/HTFTP.html">HTFTP</a> module contains the code for the FTP
client. The FTP client has changed a lot in this release. It is now a
complete state machine where the actual action executed is a function of the
current state.</p>
<ul>
  <li>The client now follows the suggestions given in rfc 1123: "Requirements
    for Internet Hosts -- Application and Support".</li>
  <li>Establishment of the data connection now comply to rfc 1579: "Firewall-
    friendly FTP" such that the procedure is
    <ol>
      <li>try PASV</li>
      <li>if that fails, try PORT</li>
    </ol>
  </li>
  <li>The URL is now parsed according to the (latest) <a
    href="../../Addressing/"> specifications</a>:
    <pre>        url        : f t p: / / login / path [  ftptype ]
        login        : [ user [ : password ] @ ] hostport
        hostport: host [ : port ]  
        ftptype        : A formcode | E formcode | I | L digits
        formcode:  N | T | C</pre>
  </li>
  <li>Both directory listings and file retrieval use the same procedure:
    <ol>
      <li>First try to go to the location directly, as we are often talking
        to a UNIX server or one that 'understands' UNIX syntax</li>
      <li>If it fails, then go to the location step by step using CWD. In
        that way we should not have any problems on any platform, and thus it
        is not necessary to make special hacks for VMS, etc.</li>
    </ol>
  </li>
  <li>Long directory listings are supported for unix-like systems and VMS.
    This includes NetWare and WindowsNT. See <a href="../">Future plans</a>
    for more and <a href="#z20">Directory Listings</a></li>
  <li>Information from the FTP-server is pr default presented to the client
    using the following rule:
    <ol>
      <li>If you are connecting to the root directory at a ftp site, we show
        the 'login' message (might be a concatenation of several messages)
        just like in a normal ftp session.</li>
      <li>If you have a more specific URL, then you probably already know the
        site and are less interested in the login message. Instead we show
        any local message when making a CWD to the right location.</li>
    </ol>
  </li>
</ul>

<h4>Gopher Client</h4>

<p>The <a href="../src/HTGopher.html">Gopher</a> has been revised and
improved error handling has been implemented.</p>
<dl>
  <dt>Information Messages</dt>
    <dd>Some Gopher servers send back information messages in a line
      containing "error.host". This information is treated like login
      information from FTP servers so that it is represented as a message
      before or after the actual listing.</dd>
  <dt>Iconized Listings</dt>
    <dd>Listings now contain icons in the same way as the other listings.</dd>
  <dt>CSO Name Server</dt>
    <dd>The CSO Name Server client outputs in HTML and not only &lt;PRE&gt;
      as before.</dd>
  <dt>Content Type Recognition</dt>
    <dd>The Gopher module uses it's own content-type recognition inherited
      from HTTP when handling gopher text and gopher binary files. This
      means, that e.g. PostScript files get handled correctly.</dd>
</dl>

<h4>Local File Access</h4>

<p>The new version of HTFile module is a lot smaller as all Directory listing
stuff has moved to HTDirBrw module. New error handling has been
implemented.</p>

<h4>Passive and Active Connection Establishment</h4>

<p>Calls to connect() and accept() now go through the functions HTDoConnect()
and HTDoAccept() respectively.</p>

<h4>Cache of Host Names and Addresses</h4>

<p>HTInetParse() that is called from within HTDoConnect now has an internal
cache of the names and (possible multiple) IP-addresses of visited hosts.
This minimizes the access to the file /etc/hosts and the Domain Name Server,
even though aliases are not recognized in the cache.</p>

<p>The default cache size is 500 entries and a host stays as long as a
connect() succeeds. That is, if connection is refused for some reason, the
host is taken out of the cache.</p>

<p>The time to make a connection to a multihomed host is measured every time
and a mean access time is calculated so that HTDoConnect always takes the
fastest IP-address.</p>

<h4>Improved Functionality of DNS requests</h4>

<p>The Library now provides functionality for obtaining the full mail address
of the user, full domain name of the host and also the possibility for
setting both values. This means that the user can use his official email
address, e.g. in the HTTP request.</p>

<h4><a name="z20">Long Directory Listings</a></h4>

<p>Long directory listings for HTTP, FTP and files on the local file system
supported. For the moment only a part of the functionality, e.g, sorting,
which columns to show etc. is exploited.</p>

<h4>Icon Management</h4>

<p>Icons in directory listings are bound to MIME content-types and encoding.
They can be found in the <a href="../src/HTIcons.html">HTIcons</a> module.
The default set of icons is set up using HTStdIconInit() and new icons can be
added dynamicly using HTAddIcon().</p>

<h4>File Descriptions in Directory Listings</h4>

<p>File descriptions are supported for long HTTP directory listings. The
default thing is to peek the title of the HTML files.</p>

<h4>Error and Information Message Management</h4>

<p>A new error handling module is introduced in <a
href="../src/HTError.html"></a>HTError. It uses the error_stack entry in the
<a href="../src/HTReq.html">HTRequest object</a>. It handles nested error
messages so that we can give a reason for the error, e.g.</p>
<pre>    Error in ...
        This error occurred because ...
            This is caused by ...
                etc.</pre>

<p>It also makes it possible for the Library to pass information back to the
client so that the the Library doesn't act like a `black hole'. An example is
HTTP redirection with status code `Moved 301'. Now the new URL is parsed back
to the client via the error_stack so that the client can update the reference
when possible.</p>

<p>The function that generates and outputs the error messages to the user is
put into HTErrorMsg Module so that it can be overwritten by a smart client or
server.</p>

<h4>Guessing the Content Type of a Stream</h4>

<p>The HTGuess module reads a part a stream and determines the content type
with the highest probability from a statistical analysis.</p>

<h4>Minor Stuff</h4>
<dl>
  <dt>tmpnam()</dt>
    <dd>Because of problems on NeXT platforms the tmpnam() function is now
      replaced by HTFWriter_filename() in HTFWriter.c. The function has two
      modes: Give back a hash name or the last part of the URL (which
      normally is more readable).</dd>
  <dt>HTMLPutImg()</dt>
    <dd>New function to make it easier to put out an HTML &lt;IMG&gt;
    tag.</dd>
  <dt>HTParseInet()</dt>
    <dd>Added one more parameter to tell whether it is a multihomed host or
      not. (This is used in the host cache).</dd>
  <dt>HTInetStatus()</dt>
    <dd>Should no more be used directly but is called from HTErrorAdd so that
      the message goes all the way back to the user</dd>
  <dt>HTError</dt>
    <dd>This typedef is now obsolete and will be removed in future
    releases</dd>
  <dt>HTLoad()</dt>
    <dd>Added new parameter to HTLoad: BOOL keep_error_stack. If YES then the
      error_stack is not cleared. This is used in redirection etc.</dd>
  <dt>HTLoadError()</dt>
    <dd>Because of the new <a href="../src/HTError.html">HTError</a> module,
      this function in HTML.c is not needed anymore.</dd>
</dl>

<h3>Bug Fixes</h3>

<p>This is a list of fixed bugs from earlier versions.</p>
<ul>
  <li>Memory faults in HTSimplify() in HTParse.c has been fixed</li>
  <li>README files in directory listings now know how to handle '&lt;',
    '&gt;' and '&amp;' correctly. Though the file still has to be Ascii.</li>
  <li>tmpnam is no more used in the Library because of problems on NeXT
    platform. Instead a new function called HTFWriter_filename() in
    HTFWriter.c is written.</li>
  <li>HTInputSocket_getCharacter now returns a int and not a char so that EOF
    is no longer a member of the char set.</li>
  <li>HTMLGen_start_element() is only allowed to put extra '\n' in
    &lt;PRE&gt; mode if it is between parameters in a tag</li>
  <li>Changed type of &lt;IMG&gt; into SGML_EMPTY so that it doesn't expect
    end tag &lt;\IMG&gt;</li>
  <li>Nested &lt;PRE&gt; is no more a problem in HTMLGen_start_element.</li>
  <li>Removed all #elif as not all compilers on HPUX likes it.</li>
  <li>Changed HTChunk such that chunk-&gt;data is '\0' terminated at any
    time. This actually makes HTChunkTerminate less needed but be aware that
    HTChunk-&gt;size changes.</li>
  <li>Removed non-portable d_namlen field in HTMulti.</li>
  <li>Moved definition of NO_GROUPS to tch.html</li>
  <li>Moved definition of HT_MAX_PATH to tch.html</li>
  <li>Proxy server now closes connection in HTTP.c. This was only problem in
    non-forking servers (VMS).</li>
  <li>Definition of HT_NO_DATA moved to HTUtils.html where the other return
    codes are placed.</li>
  <li>Functions from <a href="../src/HTAlert.html">HTAlert Module</a> that
    prompt the user don't get confused about <em>ctrl-D</em> anymore.</li>
</ul>

<h2>27 March 94 2.16beta VMS version</h2>
<ul>
  <li><a name="z0"
    href="http://delonline.cern.ch/disk$user/duns/doc/vms/distribution.html">Distribution
    for VMS</a></li>
</ul>

<h2>25 March 94 - 2.15</h2>

<h3>General Upgrade</h3>
<ul>
  <li>Lou Montulli's Lynx and LIST NEWSGROUP diffs put in to HTNews.c</li>
  <li>Complete <a name="z8" href="../src/HTMLPDTD.html">HTML+ DTD</a> in
    parser as per Dave Raggett's internet draft 00. All 78 elements in the
    spec plus COMMENT, H7, HTML, XMP, LISTING and PLAINTEXT for
    back-compatibility.</li>
  <li>Backup files created on PUT to local file (in server or client)
    according to global flag HTTakeBackup, defaults to YES.</li>
  <li>Changed interface to <a name="z13" href="../src/HText.html">HText</a>
    -- added<a name="z12" href="../src/HText.html#z0"> HText_new3</a>
    creation method. All clients using this interface should ensure that the
    structured stream used during creation is reopen()ed if it is still
    needed to hold dcoument structure after the original load has been done.
    In this case it should later be freed.</li>
  <li>CHANGED INTERFACE to <a href="../src/HTAccess.html">HTAccess</a>: Now
    an HTRequest environment is passed to almost all calls. Allows better
    reentrant use of library for image embedding, etc. Implies (minor)
    changes to all clients.</li>
  <li>Changed HTConverter definition. Should be internal only, uness you
    register new converters. Now take more useful parameters.</li>
  <li>HTSaveAndCallBack stream allows simple implementation of embedded
    graphics: just load them with all conversions you can hadle using
    HTSaveAndCallBack -- you will be called back with a filename when the
    image is on disk.</li>
  <li>Initialization: Calling of HTInit functions now not done by library --
    if you want them, you call them from the application.</li>
  <li>xxx_proxy environment variables for forwarding requests to a proxy
    (e.g. http_proxy , ftp_proxy , gopher_proxy ).</li>
  <li>no_proxy environment variable to override the proxy; e.g.
    <pre>        setenv no_proxy "cern.ch, foo.bar:8001, ncsa.uiuc.edu"</pre>
  </li>
  <li>Bug causing FTP binary file transfers failing fixed.</li>
  <li>Fix to Gopher code -- Now tries to do own filetyping with unknown
    gopher types. Even if this fails doesn't truncate binary files.</li>
  <li>Local directory listing bug with trailing slash fixed.</li>
  <li>Better multiformat handling, HTMulti(), with welcome page support.</li>
  <li>The eight misplaced cern_httpd access authorization modules moved away
    from the library.</li>
  <li>Parts with inefficient list handling rewritten -- better
  performance.</li>
  <li>Non-modal changes for password prompting -- I suspect this doesn't work
    yet. Someone who is implementing a GUI client please contact me
    &lt;luotonen@dxcern.cern.ch&gt;.</li>
  <li>The PlainToHTML text converter now works.</li>
  <li>A basic HTMLToTeX converter is implemented. It understands fairly well
    written HTML documents but can not recover serious HTML errors.</li>
  <li>All caching is turned off on the client side in this release until a
    more stable solution is found.</li>
  <li>tmpnam() not used any more as it caused problems on a NeXT. Instead the
    function HTFWriter_filename() returns a hash or the last part of the URL
    as filename.</li>
  <li>HTML titles now get parsed as well. This is in order to convert foreign
    letters etc. But if somebody puts a list into the title....</li>
</ul>

<h3>International</h3>
<ul>
  <li>Patches for parsing SGML with 2-byte<a name="z15"
    href="http://www.ntt.jp/japan/note-on-JP/encoding.html"> japanese
    encoding</a> included, from<a name="z16"
    href="http://www.brl.ntt.jp/~takada/takada.html">
    takada@seraph.ntt.jp</a> .</li>
</ul>

<h3>Bug Fixes</h3>
<ul>
  <li>Bug fixed in HTFile.c prevented .multi multiformat links from working
    under Solaris, maybe other SYSV.</li>
  <li>Bug fix in client HTTP: "Accept" line params preceded by ";" now as per
    spec.</li>
  <li>Bug fixed in HTBTree.c that crashed for some large directories.</li>
</ul>

<h2>15 December 2.14vms</h2>
<ul>
  <li><a name="z17"
    href="http://delonline.cern.ch/disk$user/duns/doc/vms/distribution.html">Provisional
    Distribution for VMS</a></li>
</ul>

<h2>17 November 2.14</h2>
<ul>
  <li>Contains port to VMS.</li>
  <li>Bug fix in HTML generation -- line wrapping code produced garbage.
    Affected servers working as gateways and also editors writing back
  HTML.</li>
  <li>Buf fix: static string returned by crypt() was free() 'd.</li>
</ul>

<h2>4 Nov 93 Version 2.13</h2>
<ul>
  <li>Bug fix: FTP text transfer don't end when 8 bit characters used. Still
    end on character -1. Thanks to Bjoern Stabell
  (bjoerns@staff.cs.uit.no)</li>
  <li>A single function HTPromptUsernameAndPassword() so that GUIs can have a
    single authentication dialog box.</li>
  <li>Extensive filename suffix recognition defaults.</li>
</ul>

<h2>11 Oct 93 Version 2.12</h2>
<ul>
  <li>Authroization in. See Ari's documentation. Everything is
    back-compatible, but there are large extenions to the rule file syntax,
    plus new ACL and protection setup files. Authorization is done by
    password in the clear now, with hooks for public key later.</li>
  <li>Some other bug fixes. Not all the reported ones.</li>
</ul>

<h2>8 Sept 93 Version 2.11</h2>
<ul>
  <li>Binary transfer problems tackled in HTTP. Yukky problem of existing
    illegal 0.9 server producing binary which looks like text is unsolved. No
    problems with HTTP 1.0 transfer.</li>
  <li>Streams: end_document method removed. "Abort" method added as requested
    at W5 -- use this when a pipe (stream stack) is broken by an error
    prevents execution etc of partially written files for example.</li>
  <li>New stream HTNetToText for converting Net ASCII to local C
    representation.</li>
  <li>Bug fix: Directories represented with anchors all with empty string (as
    opposed to no) names: many NAME="" in anchors.</li>
  <li>Bug fix: application/octet-stream replaces application/binary as per
    MIME.</li>
  <li>CSO Nameserver code to HTGopher added as Mosaic originally from ???.
    (AS)</li>
  <li>Bug fix: HTTPD would return an old-style (non-MIME) response when
    sending back a file in unrecognised format, evn if client was using HTTP
    1.0.</li>
</ul>

<h2>Version 2.10 Not released due to WWWWW</h2>
<ul>
  <li>Bug fix: crashed with error message when doing a Gopher search.</li>
  <li>WAIS type "HTML" recognised as HTML. Other types treated as
    application/binary.</li>
</ul>

<h2>30 November 1993, version 2.09a</h2>
<ul>
  <li>Bug fix: A space was not allowed befoe the tagcloser (&gt;) of an end
    tag. Now it is. Also (untested), empty close tags should be allowed a la
    "&lt;h1&gt;heading&lt;/&gt;". Not recommended, but in.</li>
  <li>Bug fix: HTML nesting stack overflow check.</li>
  <li>Bug fix: Compilation under IBM MVS didn't work.</li>
</ul>

<h2>23 November 1993, version 2.09</h2>

<p>At last this stupid library is aware of content-transfer-encoding. When
defining file suffixes you must define not only the content-type (eg
application/postscript) but also the encoding (eg binary, or 7bit). The first
effect of this is to get the proper mode selected for FTP transfers. This
means you can do a</p>

<p></p>
<pre>        www -source ftp:/xx.yy.edu/pub/junk/foo.tar.Z &gt; junk.tar.Z</pre>

<p>and it will work as expected.</p>

<p>On the client side, you can define the presentation method for any given
MIME-style 'content type". This is done in the rule file too.</p>

<h2>2.08</h2>
<ul>
  <li>You can define file suffix conventions in the server and/or client rule
    files. This allows you to set up a server which for example, trateas .ai
    files as application/postscript, etc, or specifies that .ME is generally
    text.</li>
  <li>You can define how a new content type will be rendered in the rule file
    of a client.</li>
</ul>

<h2>15 November 93, version 2.07</h2>
<ul>
  <li>If you telnet to the www client (-h option): 1. it is more secure: No
    local file access. 2. you can use /etc/www-remote.url file to specify the
    url of the home page for telnet users.</li>
  <li>Library uses fopen() rather than open(), allowing file access on
    non-unix machines.</li>
</ul>

<h2>7 November 93, 2.06</h2>
<ul>
  <li>Check against local hostname in file access is now string
  insensitive.</li>
  <li>HTML parser: entities were not expanded at outer level.</li>
  <li>HTTP client sends client name and version. Requires HTAppName</li>
  <li>FTP client fix: Continuation lines which do not have - in are now
    handled properly as per the spec.</li>
</ul>

<h2>May 1993 version 2.05a</h2>
<ul>
  <li>Bug fix in directory reading of local files -- it didn't work! The
    stopped the daemon working on directories.</li>
  <li>Bug fix in DIR handling for browers: tabs work again in directory
    listsings.</li>
</ul>

<h2>22 April 1993 version 2.04</h2>
<ul>
  <li>WAIS handling code in library, no need to go through a gateway of you
    compile with the right options abd link with freeWAIS. First version of
    this, no bells or whistles.</li>
  <li>wwwsys.h systems specifics for SCO picked up from mosaic but directory
    handling not fixed yet ...</li>
</ul>

<h2>20 April 1993 version 2.03c:</h2>
<ul>
  <li>Use of identifier "this" removed to prevent conflicts with C++</li>
  <li>_AIX cpp defined picked up for AIX.</li>
  <li>In networking code, no assumption that \n is 10 on even on ASCII
    machines (for Mac/MPW).</li>
  <li>Server bug fix after Sebastian.Wilhelmi@isst.fhg.de -- exited with bad
    status even if all OK.</li>
</ul>

<h2>19 April 1993 version 2.03b</h2>
<ul>
  <li>Distribution bug fix: s/Specific/All/ on line 2 of
    WWW/All/Makefile.product</li>
  <li>SGML bug fix: treatment of entities was on when would be off and
    vice-cversa.</li>
  <li>Sun binaries linked with -Bstatic to make them transportable</li>
  <li>Bug fix: Sometimes, client would ignore first part of returned
  file.</li>
</ul>

<h2>17 Mar 93 Version 2.02-beta</h2>
<ul>
  <li>Bug fix: Falls back to old HTTP with servers which don't like the new
    HTTP.</li>
  <li>BUILD file for easy installation of library, httpd and www</li>
</ul>

<h2>15 Mar 93 Version 2.0 alpha:</h2>

<p>Incompatible library release has cleaned up interfaces. Developers read
the .h files! Version 2 libraries must be compiled with version 2 products
and vice-versa. Version 2 clients will access (most) version 1 servers OK,
version 2 servers will respond correctly to (all) version 1 clients.</p>
<ul>
  <li>Bug fix: Gopher connections wasted socket numbers and eventually used
    them all up. (Thanks Marc Andreessen)</li>
  <li>Rule file used by clients as well as servers.</li>
  <li>MIME parser takes content-type field from MIME messages and invokes
    appropriate registerd presentation method for each type.</li>
  <li>Local and remote multiformat files.</li>
  <li>***HTSearch and HTLoadRelative parameters changed! HTMainAnchor and
    HTMainText globals are no longer used by the library.</li>
  <li>HTAccess package now registers known protocols in list.</li>
  <li>HT{G,S}etNewsHost available from HTNews module.</li>
  <li>SGML parser speeded up</li>
  <li>New software intrerface introduced: HTStructuredClass. This should make
    use of the library easier with clients, and allow more code in common
    between clients and servers.</li>
  <li>Hooks for handling new formats with other applications</li>
  <li>General hooks for status messages, user query, progress monitoring,
    etc. (HTAlert module)</li>
</ul>

<h2>6 January 1993, Version1.1a</h2>
<ul>
  <li>Can revisit telnet nodes.</li>
  <li>Tn3270 access type accepted.</li>
  <li>FTP password for anonymous is now WWWuser@ withouyt a hostname, for
    software on ftp.uu.net etc.</li>
  <li>Bug fix in HTML.c: Would crash when a list was the first visible
    element in a text object.</li>
</ul>

<h2><a name="z4">11 December 1992, Version 1.1</a></h2>
<ul>
  <li>Added &lt;PRE&gt; tag as in <a href="../../MarkUp/">new HTML
  spec</a>.</li>
  <li>Added numeric character reference handling for future use.</li>
</ul>

<h2>December 1992, Version 1.0c</h2>
<ul>
  <li>Fixed bug in FTP handling (FTP file retrieve put control connection in
    bad state)</li>
  <li>Fixed bug in Gopher handling on non-ASCII platforms. Also, bug fix in
    Gopher search of index whose name contained characters (like blanks)
    escapes with %.</li>
  <li>Fixed bug in NEWS handling, failed on non-ASCII platforms.</li>
</ul>

<h2>November 1992 Version1.0b</h2>
<ul>
  <li>Fix some bugs in Make system.</li>
  <li>Memory bug fixed: On failure to connect to HTTP server, it would free()
    an uninitialized pointer!</li>
  <li>Some trace messages were output to stdout instead of stderr</li>
  <li>Allow "ftp:" prefix on URL . Effect is currently equivalent to that of
    the "file:" prefix.</li>
  <li>Local file access not allowed in secure mode. (telnet access was never
    allowed in this mode). Secure mode is used for telnet server and mail
    robot.</li>
</ul>

<h2>November 1992 version 1.0</h2>
<ul>
  <li>Library libwww.a made independently of browsers to save time and space
    and to force good modularity</li>
</ul>

<p></p>
<hr>
<address>
  <a href="/People/Jose/">Jos Kahan</a>,<br>
  @(#) $Id$
</address>
</body>
</html>
